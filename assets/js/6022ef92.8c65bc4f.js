"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[73021],{28453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>s});var r=n(96540);const i={},a=r.createContext(i);function d(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(a.Provider,{value:t},e.children)}},39068:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(27143),i=n(74848);function a(e){let{title:t}=e;return(0,i.jsx)(r.A,{children:(0,i.jsx)("title",{children:t})})}},63690:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"workspace/data-widgets/settings","title":"Settings and Configurations","description":"Learn about various widget settings and configurations in OpenBB Workspace, including refetch intervals, stale times, run buttons, and error handling.","source":"@site/content/workspace/data-widgets/settings.md","sourceDirName":"workspace/data-widgets","slug":"/workspace/data-widgets/settings","permalink":"/workspace/data-widgets/settings","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/data-widgets/settings.md","tags":[],"version":"current","lastUpdatedBy":"DidierRLopes","lastUpdatedAt":1746113405000,"sidebarPosition":18,"frontMatter":{"title":"Settings and Configurations","sidebar_position":18,"description":"Learn about various widget settings and configurations in OpenBB Workspace, including refetch intervals, stale times, run buttons, and error handling.","keywords":["settings","configuration","preferences","widgets","markdown","refetch interval","stale time","run button","error handling"]},"sidebar":"tutorialSidebar","previous":{"title":"Input Parameters","permalink":"/workspace/data-widgets/input-parameters"},"next":{"title":"Core Widgets","permalink":"/workspace/core-widgets"}}');var i=n(74848),a=n(28453),d=n(39068);const s={title:"Settings and Configurations",sidebar_position:18,description:"Learn about various widget settings and configurations in OpenBB Workspace, including refetch intervals, stale times, run buttons, and error handling.",keywords:["settings","configuration","preferences","widgets","markdown","refetch interval","stale time","run button","error handling"]},o=void 0,l={},c=[{value:"Widgets and grid-size",id:"widgets-and-grid-size",level:2},{value:"Category and Subcategory",id:"category-and-subcategory",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Run Button",id:"run-button",level:2},{value:"Short Refetch Interval",id:"short-refetch-interval",level:2},{value:"Short Refetch Interval and Run Button",id:"short-refetch-interval-and-run-button",level:2},{value:"Structured API Widget Example",id:"structured-api-widget-example",level:2},{value:"Stale Time",id:"stale-time",level:2},{value:"Refetch Interval and Stale Time",id:"refetch-interval-and-stale-time",level:2}];function h(e){const t={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{title:"Settings | OpenBB Workspace Docs"}),"\n",(0,i.jsx)(t.h2,{id:"widgets-and-grid-size",children:"Widgets and grid-size"}),"\n",(0,i.jsxs)(t.p,{children:["Widgets use a grid-based layout system where you can specify their width and height in the ",(0,i.jsx)(t.code,{children:"gridData"})," object. Here's a simple example:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget",\n    "description": "A markdown widget",\n    "type": "markdown",\n    "endpoint": "markdown_widget",\n    "gridData": {"w": 12, "h": 4},\n})\n@app.get("/markdown_widget")\ndef markdown_widget():\n    """Returns a markdown widget"""\n    return "# Markdown Widget"\n'})}),"\n",(0,i.jsx)(t.p,{children:"The grid system works as follows:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Width (w)"}),": Horizontal span (10-40 units)"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"12 units is a good default for most widgets"}),"\n",(0,i.jsx)(t.li,{children:"Use 40 units for full-width widgets"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Height (h)"}),": Vertical span (4-100 units)"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"4-8 units for simple widgets"}),"\n",(0,i.jsx)(t.li,{children:"8-20 units for standard widgets"}),"\n",(0,i.jsx)(t.li,{children:"Larger values for detailed charts or tables"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"category-and-subcategory",children:"Category and Subcategory"}),"\n",(0,i.jsx)(t.p,{children:"The category and subcategory specify the category and subcategory of the widget in the OpenBB Workspace. This is important to organize the widgets in the OpenBB Workspace, but also for AI agents to find the best widgets to utilize for a given task."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Category and Subcategory Example",src:"https://openbb-cms.directus.app/assets/bdedbc4e-64ac-44b4-a176-8f2ca31b99cf.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Category and Subcategory",\n    "description": "A markdown widget with category and subcategory",\n    "type": "markdown",\n    "category": "Widgets",\n    "subcategory": "Markdown Widgets",\n    "endpoint": "markdown_widget_with_category_and_subcategory",\n    "gridData": {"w": 12, "h": 4},\n})\n@app.get("/markdown_widget_with_category_and_subcategory")\ndef markdown_widget_with_category_and_subcategory():\n    """Returns a markdown widget with category and subcategory"""\n    return f"# Markdown Widget with Category and Subcategory"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(t.p,{children:"This is a simple widget that demonstrates how to handle errors in your widgets."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Error Handling Example",src:"https://openbb-cms.directus.app/assets/c8671675-d4d0-4b3d-ada1-d4eae95ca859.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Error Handling",\n    "description": "A markdown widget with error handling",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_error_handling",\n    "gridData": {"w": 12, "h": 4},\n})\n@app.get("/markdown_widget_with_error_handling")\ndef markdown_widget_with_error_handling():\n    """Returns a markdown widget with error handling"""\n    raise HTTPException(\n        status_code=500,\n        detail="Error that just occurred"\n    )\n'})}),"\n",(0,i.jsx)(t.h2,{id:"run-button",children:"Run Button"}),"\n",(0,i.jsx)(t.p,{children:"The run button allows you to run a widget by clicking it rather than having it run automatically when you change a parameter. It is located in the top right corner of the widget and replaces the refresh button. A Ctrl-click on the run button performs a hard refresh, while a regular click runs the new parameters."}),"\n",(0,i.jsx)(t.p,{children:"Setting the refreshInterval will allow you to still refresh the widget automatically, but it is off by default when using the run button."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Run Button Example",src:"https://openbb-cms.directus.app/assets/48d7d762-a39f-46f3-b205-2b1ffe13c3ef.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Run Button",\n    "description": "A markdown widget with a run button",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_run_button",\n    "gridData": {"w": 12, "h": 4},\n    "runButton": True,\n})\n@app.get("/markdown_widget_with_run_button")\ndef markdown_widget_with_run_button():\n    """Returns a markdown widget with current time"""\n    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n    return f"### Current time: {current_time}"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"short-refetch-interval",children:"Short Refetch Interval"}),"\n",(0,i.jsx)(t.p,{children:"The refetch interval is the interval at which the widget will be refreshed. Use lower values for real-time data (e.g., 60000 for 1-minute updates). Higher values are recommended for static or slowly changing data."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Default: 900000 (15 minutes) (minimum 1000)"}),"\n",(0,i.jsxs)(t.li,{children:["Set to ",(0,i.jsx)(t.code,{children:"false"})," to disable automatic refreshing"]}),"\n",(0,i.jsx)(t.li,{children:"Use lower values for real-time data (e.g., 60000 for 1-minute updates)"}),"\n",(0,i.jsx)(t.li,{children:"Higher values recommended for static or slowly changing data"}),"\n"]}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Short Refetch Interval Example",src:"https://openbb-cms.directus.app/assets/4b016db5-5265-4e3b-84f9-506aa4fd9c42.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Short Refetch Interval",\n    "description": "A markdown widget with a short refetch interval",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_short_refetch_interval",\n    "gridData": {"w": 12, "h": 4},\n    "refetchInterval": 1000\n})\n@app.get("/markdown_widget_with_short_refetch_interval")\ndef markdown_widget_with_short_refetch_interval():\n    """Returns a markdown widget with current time"""\n    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n    return f"### Current time: {current_time}"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"short-refetch-interval-and-run-button",children:"Short Refetch Interval and Run Button"}),"\n",(0,i.jsx)(t.p,{children:"The refresh interval is set to 10000ms (10 seconds) but the run button is enabled, which means that the user can refresh the widget manually."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Short Refetch Interval and Run Button Example",src:"https://openbb-cms.directus.app/assets/24d777ae-d455-412d-9832-255e28eea11e.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Short Refetch Interval and a Run Button",\n    "description": "A markdown widget with a short refetch interval and a run button",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_short_refetch_interval_and_run_button",\n    "gridData": {"w": 12, "h": 4},\n    "refetchInterval": 10000,\n    "runButton": True\n})\n@app.get("/markdown_widget_with_short_refetch_interval_and_run_button")\ndef markdown_widget_with_short_refetch_interval_and_run_button():\n    """Returns a markdown widget with current time"""\n    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n    return f"### Current time: {current_time}"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"structured-api-widget-example",children:"Structured API Widget Example"}),"\n",(0,i.jsx)(t.p,{children:"This example demonstrates how to organize API endpoints by vendor/domain for better maintainability."}),"\n",(0,i.jsx)(t.p,{children:"Benefits:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Clear separation of concerns"}),"\n",(0,i.jsx)(t.li,{children:"Reusable parameter names and options across related endpoints"}),"\n",(0,i.jsx)(t.li,{children:"Easier to manage vendor-specific configurations"}),"\n",(0,i.jsx)(t.li,{children:"Improved code organization and readability"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Example structure: /vendor1/endpoint1, /vendor1/endpoint2, /vendor2/endpoint1, /vendor2/endpoint2, etc.\nThis can be done not only based on vendors, but also based on the type of data, e.g. /stocks/endpoint1, /commodities/endpoint2, etc."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Structured API Widget Example",src:"https://openbb-cms.directus.app/assets/e90c6a8d-2e18-4727-95cb-8866ebc3a294.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with better structured API",\n    "description": "A simple markdown widget with a better structured API",\n    "type": "markdown",\n    "endpoint": "/vendor1/markdown_widget_with_better_structured_api",\n    "gridData": {"w": 12, "h": 4},\n    "refetchInterval": 10000,\n    "runButton": True\n})\n@app.get("/vendor1/markdown_widget_with_better_structured_api")\ndef markdown_widget_with_better_structured_api():\n    """Returns a markdown widget with current time"""\n    return "vendor1/markdown_widget_with_better_structured_api"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"stale-time",children:"Stale Time"}),"\n",(0,i.jsx)(t.p,{children:"The stale time is the time after which the data will be considered stale. You will see a refresh button in the widget becoming orange to indicate that the data is stale."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Default: 300000 (5 minutes)"}),"\n",(0,i.jsx)(t.li,{children:"Data older than this value will trigger a refresh when the widget is viewed again"}),"\n",(0,i.jsxs)(t.li,{children:["Should typically be less than or equal to ",(0,i.jsx)(t.code,{children:"refetchInterval"})]}),"\n",(0,i.jsx)(t.li,{children:"Set higher for data that updates infrequently"}),"\n"]}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Stale Time Example",src:"https://openbb-cms.directus.app/assets/d601fda5-0ea3-40cc-8290-d0789ccb0e33.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Stale Time",\n    "description": "A markdown widget with stale time",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_stale_time",\n    "gridData": {"w": 12, "h": 4},\n    "staleTime": 5000\n})\n@app.get("/markdown_widget_with_stale_time")\ndef markdown_widget_with_stale_time():\n    """Returns a markdown widget with current time"""\n    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n    return f"### Current time: {current_time}"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"refetch-interval-and-stale-time",children:"Refetch Interval and Stale Time"}),"\n",(0,i.jsx)(t.p,{children:"The refetch interval is set to 10000ms (10 seconds) and the stale time is set to 5000ms (5 seconds). Data older than stale time will make the refresh button in the widget become orange to indicate that the data is stale, and once it reaches the refetch interval, the widget will be refreshed and the indicator will turn green again."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Markdown Widget with Refetch Interval and Stale Time Example",src:"https://openbb-cms.directus.app/assets/9313f7e3-0ab6-42ae-877d-8868c84d044b.png"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Markdown Widget with Refetch Interval and Shorter Stale Time",\n    "description": "A markdown widget with a short refetch interval and a shorter stale time",\n    "type": "markdown",\n    "endpoint": "markdown_widget_with_refetch_interval_and_shorter_stale_time",\n    "gridData": {"w": 12, "h": 4},\n    "refetchInterval": 10000,\n    "staleTime": 5000\n})\n@app.get("/markdown_widget_with_refetch_interval_and_shorter_stale_time")\ndef markdown_widget_with_refetch_interval_and_shorter_stale_time():\n    """Returns a markdown widget with current time"""\n    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n    return f"### Current time: {current_time}"\n'})})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);