"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[49732],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var i=n(96540);const s={},o=i.createContext(s);function a(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:t},e.children)}},36154:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"workspace/data-widgets/highcharts","title":"Highcharts Chart","description":"Learn how to create Highcharts widgets for OpenBB Workspace, with step-by-step instructions for backend integration, configuration, and theme support.","source":"@site/content/workspace/data-widgets/highcharts.md","sourceDirName":"workspace/data-widgets","slug":"/workspace/data-widgets/highcharts","permalink":"/workspace/data-widgets/highcharts","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/data-widgets/highcharts.md","tags":[],"version":"current","lastUpdatedBy":"Andrew","lastUpdatedAt":1755539741000,"sidebarPosition":18,"frontMatter":{"title":"Highcharts Chart","sidebar_position":18,"description":"Learn how to create Highcharts widgets for OpenBB Workspace, with step-by-step instructions for backend integration, configuration, and theme support.","keywords":["widgets.json","OpenBB API","Endpoint integration","widget configuration","Highcharts","Chart widgets","API implementation","Python","FastAPI","Workspace widgets","Widget definitions"]},"sidebar":"tutorialSidebar","previous":{"title":"Newsfeed","permalink":"/workspace/data-widgets/newsfeed"},"next":{"title":"Omni","permalink":"/workspace/data-widgets/omni"}}');var s=n(74848),o=n(28453),a=n(39068);const r={title:"Highcharts Chart",sidebar_position:18,description:"Learn how to create Highcharts widgets for OpenBB Workspace, with step-by-step instructions for backend integration, configuration, and theme support.",keywords:["widgets.json","OpenBB API","Endpoint integration","widget configuration","Highcharts","Chart widgets","API implementation","Python","FastAPI","Workspace widgets","Widget definitions"]},d=void 0,h={},c=[{value:"Step 1: Set Up Your Project",id:"step-1-set-up-your-project",level:2},{value:"Step 2: Create the Chart Endpoint",id:"step-2-create-the-chart-endpoint",level:2},{value:"Step 3: Edit the widgets.json File",id:"step-3-edit-the-widgetsjson-file",level:2},{value:"Step 4: Run the Application",id:"step-4-run-the-application",level:2},{value:"Step 5: Add to OpenBB Pro",id:"step-5-add-to-openbb-pro",level:2},{value:"Theme Support",id:"theme-support",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.A,{title:"Highcharts Chart | OpenBB Workspace Docs"}),"\n",(0,s.jsx)(t.p,{children:"This guide will walk you through the process of creating a chart widget for OpenBB Workspace using Highcharts. By the end of this guide, you will have a working Highcharts widget that you can add to OpenBB."}),"\n",(0,s.jsx)(t.h2,{id:"step-1-set-up-your-project",children:"Step 1: Set Up Your Project"}),"\n",(0,s.jsx)(t.p,{children:"To get started, create the main application file and the widget configuration file. You will only need these two files:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"main.py"}),": This file will contain your FastAPI application code."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"widgets.json"}),": This file will define the configuration for your widget."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["The backend will use the same FastAPI setup and structure as described in the ",(0,s.jsx)(t.a,{href:"/workspace/data-integration#1-create-the-api-server",children:"Overview"})," page."]}),"\n",(0,s.jsx)(t.h2,{id:"step-2-create-the-chart-endpoint",children:"Step 2: Create the Chart Endpoint"}),"\n",(0,s.jsxs)(t.p,{children:["Edit the ",(0,s.jsx)(t.code,{children:"main.py"})," file and add the following code. This code sets up a FastAPI application with an endpoint to serve the widget configuration and data for a Highcharts chart:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"from pathlib import Path\nimport json\nimport pandas as pd\nimport requests\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\nfrom highcharts_core.chart import Chart\n\napp = FastAPI()\n\n# Configure CORS\norigins = [\n    \"https://pro.openbb.co\",\n    \"https://excel.openbb.co\"\n]\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=origins,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n@app.get(\"/widgets.json\")\ndef get_widgets():\n    \"\"\"Widgets configuration file for the OpenBB Data Integration\"\"\"\n    return JSONResponse(\n        content=json.load((Path(__file__).parent.resolve() / \"widgets.json\").open())\n    )\n\n# Highcharts chart endpoint\n@app.get(\"/chains-highchart\")\ndef get_chains_highchart(theme: str = \"dark\"):\n    \"\"\"Get current TVL of all chains using Defi Llama\"\"\"\n    response = requests.get(\"https://api.llama.fi/v2/chains\")\n\n    if response.status_code == 200:\n        df = pd.DataFrame(response.json())\n\n        top_30_df = df.sort_values(by='tvl', ascending=False).head(30)\n\n        # Format TVL values to be more readable (in billions)\n        top_30_df['formatted_tvl'] = top_30_df['tvl'].apply(lambda x: round(x / 1e9, 2))\n\n        categories = top_30_df['name'].tolist()\n        data = top_30_df['formatted_tvl'].tolist()\n\n        # Configure chart options with theme support\n        chart_options = {\n            'chart': {\n                'type': 'column',\n                'height': \"50%\",\n                'backgroundColor': 'transparent'\n            },\n            'title': {'text': 'Top 30 Chains by TVL'},\n            'xAxis': {\n                'categories': categories,\n                'title': {'text': 'Chain Name'},\n                'labels': {\n                    'style': {\n                        'color': '#ffffff' if theme == 'dark' else '#000000'\n                    }\n                }\n            },\n            'yAxis': {\n                'title': {'text': 'Total Value Locked (TVL in billions $)'},\n                'labels': {\n                    'style': {\n                        'color': '#ffffff' if theme == 'dark' else '#000000'\n                    }\n                }\n            },\n            'tooltip': {\n                'pointFormat': '<b>${point.y:.2f}B</b>'\n            },\n            'series': [{\n                'name': 'Chain',\n                'data': data\n            }]\n        }\n\n        # Apply theme-specific styling\n        if theme == 'dark':\n            chart_options.update({\n                'title': {'style': {'color': '#ffffff'}},\n                'legend': {'itemStyle': {'color': '#ffffff'}},\n                'plotOptions': {\n                    'series': {\n                        'color': '#3498db'\n                    }\n                }\n            })\n\n        chart = Chart.from_options(chart_options)\n\n        return chart.to_dict()\n\n    print(f\"Request error {response.status_code}: {response.text}\")\n    return JSONResponse(\n        content={\"error\": response.text}, status_code=response.status_code\n    )\n"})}),"\n",(0,s.jsxs)(t.p,{children:["For Highcharts integration, we're using the ",(0,s.jsx)(t.code,{children:"highcharts_core"})," Python package to create and configure the chart. The chart is then converted to a dictionary using ",(0,s.jsx)(t.code,{children:"chart.to_dict()"})," before being returned to the frontend."]}),"\n",(0,s.jsx)(t.h2,{id:"step-3-edit-the-widgetsjson-file",children:"Step 3: Edit the widgets.json File"}),"\n",(0,s.jsxs)(t.p,{children:["Edit the ",(0,s.jsx)(t.code,{children:"widgets.json"})," file and add the following JSON data. This configuration defines the widget's properties and how it should be displayed:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "chains_highchart": {\n    "name": "Chains chart example Highcharts",\n    "description": "Get current TVL of all chains and plot it with Highcharts",\n    "category": "crypto",\n    "type": "chart-highcharts",\n    "endpoint": "chains-highchart",\n    "gridData": {\n      "w": 20,\n      "h": 9\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Note that for Highcharts, the ",(0,s.jsx)(t.code,{children:"type"})," field is set to ",(0,s.jsx)(t.code,{children:'"chart-highcharts"'})," instead of just ",(0,s.jsx)(t.code,{children:'"chart"'})," which is used for Plotly charts."]}),"\n",(0,s.jsxs)(t.p,{children:["For more information on the ",(0,s.jsx)(t.code,{children:"widgets.json"})," file, see the ",(0,s.jsx)(t.a,{href:"../widgets-json-reference",children:"Widgets.json"})," page."]}),"\n",(0,s.jsx)(t.h2,{id:"step-4-run-the-application",children:"Step 4: Run the Application"}),"\n",(0,s.jsx)(t.p,{children:"Start the FastAPI Server using Uvicorn. This will host your backend locally:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"uvicorn main:app --port 5050\n"})}),"\n",(0,s.jsx)(t.h2,{id:"step-5-add-to-openbb-pro",children:"Step 5: Add to OpenBB Pro"}),"\n",(0,s.jsxs)(t.p,{children:["Navigate to ",(0,s.jsx)(t.a,{href:"https://pro.openbb.co/app",children:"OpenBB Pro Apps"})," and add your backend by clicking on the ",(0,s.jsx)(t.code,{children:"Manage Backends"})," button in the top right corner. Select ",(0,s.jsx)(t.code,{children:"Add Backend"})," and fill in the details. Your URL will be ",(0,s.jsx)(t.code,{children:"http://localhost:5050"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Once you have added your backend, you can find the widget in the ",(0,s.jsx)(t.code,{children:"Crypto"})," category with the name ",(0,s.jsx)(t.code,{children:"Chains chart example Highchart"}),"."]}),"\n",(0,s.jsx)("img",{className:"pro-border-gradient",width:"600",alt:"highcharts-chart",src:"https://openbb-assets.s3.us-east-1.amazonaws.com/docs/pro/highcharts.png"}),"\n",(0,s.jsx)(t.h3,{id:"theme-support",children:"Theme Support"}),"\n",(0,s.jsxs)(t.p,{children:["The example doesn't include theme support, but you can easily add it by adapting the endpoint to include the ",(0,s.jsx)(t.code,{children:"theme"})," parameter."]}),"\n",(0,s.jsx)(t.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsxs)(t.p,{children:["You can find more examples of how to set up your own backend in the ",(0,s.jsx)(t.a,{href:"https://github.com/OpenBB-finance/backend-examples-for-openbb-workspace",children:"Backend for OpenBB Workspace GitHub"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["For more information on Highcharts configuration options, visit the ",(0,s.jsx)(t.a,{href:"https://api.highcharts.com/highcharts/",children:"Highcharts API Documentation"}),"."]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},39068:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var i=n(27143),s=n(74848);function o(e){let{title:t}=e;return(0,s.jsx)(i.A,{children:(0,s.jsx)("title",{children:t})})}}}]);