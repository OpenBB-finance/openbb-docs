"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[87129],{77226:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var i=t(74848),o=t(28453),s=t(94331),a=t(69396);const r={title:"Custom Backend",sidebar_position:14,description:"Learn how to integrate your own backend with OpenBB Terminal Pro using the cookie-cutter or language-agnostic API approaches, with illustrative guides and principles for handling widget.json files, APIs, interfaces, Python, FastAPI and more.",keywords:["OpenBB cookie-cutter","widgets.json","OpenBB API","Endpoint integration","widget configuration","Language-Agnostic API","API implementation","Python","FastAPI","Terminal Pro widgets","Widget definitions"]},d=void 0,l={id:"terminal/custom-backend/custom-backend",title:"Custom Backend",description:"Learn how to integrate your own backend with OpenBB Terminal Pro using the cookie-cutter or language-agnostic API approaches, with illustrative guides and principles for handling widget.json files, APIs, interfaces, Python, FastAPI and more.",source:"@site/content/terminal/custom-backend/custom-backend.md",sourceDirName:"terminal/custom-backend",slug:"/terminal/custom-backend/",permalink:"/terminal/custom-backend/",draft:!1,unlisted:!1,editUrl:"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/terminal/custom-backend/custom-backend.md",tags:[],version:"current",lastUpdatedBy:"Andrew",lastUpdatedAt:1742312264e3,sidebarPosition:14,frontMatter:{title:"Custom Backend",sidebar_position:14,description:"Learn how to integrate your own backend with OpenBB Terminal Pro using the cookie-cutter or language-agnostic API approaches, with illustrative guides and principles for handling widget.json files, APIs, interfaces, Python, FastAPI and more.",keywords:["OpenBB cookie-cutter","widgets.json","OpenBB API","Endpoint integration","widget configuration","Language-Agnostic API","API implementation","Python","FastAPI","Terminal Pro widgets","Widget definitions"]},sidebar:"tutorialSidebar",previous:{title:"Snowflake",permalink:"/terminal/database-integrations/snowflake"},next:{title:"Widgets",permalink:"/terminal/custom-backend/Widgets/"}},c={},u=[{value:"Introduction to Custom Backend",id:"introduction-to-custom-backend",level:2},{value:"Design and implement your API",id:"design-and-implement-your-api",level:2},{value:"Creating your own custom backend",id:"creating-your-own-custom-backend",level:2},{value:"Examples",id:"examples",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{title:"Custom backend | OpenBB Terminal Pro Docs"}),"\n",(0,i.jsx)(n.h2,{id:"introduction-to-custom-backend",children:"Introduction to Custom Backend"}),"\n",(0,i.jsx)(n.p,{children:"A custom backend in OpenBB Terminal Pro allows users to integrate their own data sources into the platform using an API. This enables the creation of personalized widgets, dashboards, and templates that can display your data in many different ways. The custom backend allows users to take full advantage of the OpenBB Copilot and our interface."}),"\n","\n",(0,i.jsx)(a.A,{youtubeLink:"https://www.youtube.com/embed/BbAGb-fciIc?si=IM_WJ9miEaqFKJAN",videoLegend:"Short introduction to integrating your own backend"}),"\n",(0,i.jsx)(n.h2,{id:"design-and-implement-your-api",children:"Design and implement your API"}),"\n",(0,i.jsx)(n.p,{children:"You can build your API using any language and framework of your choice.  The only requirements are that there must be endpoints returning data in JSON format, and that CORS is supported for OpenBB domains."}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.p,{children:"Guidelines for JSON Format in Tables:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The JSON data for tables should be in a flat structure, meaning that there should be no nested dictionaries or arrays within the individual objects unless you specify the dataKey in your ",(0,i.jsx)(n.code,{children:"widgets.json"})," file."]}),"\n",(0,i.jsx)(n.li,{children:"Each object should contain key-value pairs where the values are simple data types (e.g., strings, numbers, booleans)."}),"\n",(0,i.jsx)(n.li,{children:"Avoid nesting other objects or arrays inside any of the values."}),"\n"]}),(0,i.jsx)(n.p,{children:"The JSON should resemble the following structure:"}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{mdxType:"summary",children:"Example JSON"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n      {\n        "ticker": "AAPL",\n        "name": "Apple Inc.",\n        "price": 150.5,\n        "marketCap": 2500000000,\n        "change": 1.25\n      },\n      {\n        "ticker": "GOOGL",\n        "name": "Alphabet Inc.",\n        "price": 2800.75,\n        "marketCap": 1900000000,\n        "change": -0.75\n      },\n      {\n        "ticker": "MSFT",\n        "name": "Microsoft Corporation",\n        "price": 300.25,\n        "marketCap": 220000000,\n        "change": 0.98\n      }\n]\n'})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"creating-your-own-custom-backend",children:"Creating your own custom backend"}),"\n",(0,i.jsx)(n.p,{children:"To integrate your own backend with OpenBB, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Develop an API to return JSON data"}),": Use any language to create an API that returns JSON data. We recommend Python with FastAPI. Ensure CORS is enabled for OpenBB domains."]}),"\n"]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{mdxType:"summary",children:"Click to view FastAPI setup"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import json\nfrom pathlib import Path\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\n\napp = FastAPI()\n\n# Define allowed origins for CORS\norigins = [\n    "https://pro.openbb.co",\n    "https://excel.openbb.co"\n]\n\n# Add CORS middleware to the app\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=origins,\n    allow_credentials=True,\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\nROOT_PATH = Path(__file__).parent.resolve()\n\n@app.get("/")\ndef read_root():\n    """Root endpoint providing basic information."""\n    return {"Info": "Full example for OpenBB Custom Backend"}\n\n@app.get("/widgets.json")\ndef get_widgets():\n    """Serve the widgets configuration file for the OpenBB Custom Backend."""\n    return JSONResponse(\n        content=json.load((ROOT_PATH / "widgets.json").open())\n    )\n\n'})})]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create widgets.json file"}),": This file is your main configuration and defines widget properties such as name, description, category, endpoint, type of widget, and other information. Each widget will be defined in this file. To view a sample ",(0,i.jsx)(n.code,{children:"widgets.json"})," file and learn more about what you can do check out the ",(0,i.jsx)(n.a,{href:"/terminal/custom-backend/widgets-json-reference",children:"widgets.json docs"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"An example structure in your backend might look like below."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"  backend/\n  \u251c\u2500\u2500 main.py\n  \u2514\u2500\u2500 widgets.json\n  \u2514\u2500\u2500 templates.json (optional)\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build Endpoints"}),": Develop endpoints in ",(0,i.jsx)(n.code,{children:"main.py"})," for each widget defined in ",(0,i.jsx)(n.code,{children:"widgets.json"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create Templates"})," (optional): You can use this to create a layout for your widgets to be displayed in OpenBB Workspace. This lets users easily add widgets in a predefined layout. To view a sample ",(0,i.jsx)(n.code,{children:"templates.json"})," file and learn more about what you can do check out the ",(0,i.jsx)(n.a,{href:"/terminal/custom-backend/advanced-controls/templates",children:"templates.json docs"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Connect to your API"}),": Use the OpenBB Terminal Pro interface to connect your API. Input your main endpoint, and the system will read the ",(0,i.jsx)(n.code,{children:"/widgets.json"})," and ",(0,i.jsx)(n.code,{children:"/templates.json"})," endpoints to add them to OpenBB."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",width:"600",alt:"folder",src:"https://openbb-web-assets.s3.amazonaws.com/docs/launch_oct_24/backend.png"})}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(n.p,{children:["Our team has created several examples that you can use to quickly get started with Python and FastAPI. For more information, check out ",(0,i.jsx)(n.a,{href:"https://github.com/OpenBB-finance/backend-for-terminal-pro/tree/main",children:"this open source repository"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Still have questions? Check out the ",(0,i.jsx)(n.a,{href:"/terminal/custom-backend/faqs",children:"FAQs"})," section."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},94331:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var i=t(5260),o=t(74848);function s(e){let{title:n}=e;return(0,o.jsx)(i.A,{children:(0,o.jsx)("title",{children:n})})}},69396:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var i=t(74848);function o(e){let{youtubeLink:n,videoLegend:t="Tutorial video"}=e;return(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:"0",overflow:"hidden",maxWidth:"100%"},children:(0,i.jsx)("iframe",{id:n,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"block",margin:"0 auto"},src:n,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);