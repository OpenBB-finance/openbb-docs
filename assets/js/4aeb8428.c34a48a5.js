"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[33405],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var a=t(96540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}},39068:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var a=t(27143),s=t(74848);function i(e){let{title:n}=e;return(0,s.jsx)(a.A,{children:(0,s.jsx)("title",{children:n})})}},52791:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"platform/usage/syntax/output_data","title":"Output Data","description":"This page details the basic response and output that can be expected to be received from the the OpenBB Platform.","source":"@site/content/platform/usage/syntax/output_data.mdx","sourceDirName":"platform/usage/syntax","slug":"/platform/usage/syntax/output_data","permalink":"/platform/usage/syntax/output_data","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/platform/usage/syntax/output_data.mdx","tags":[],"version":"current","lastUpdatedBy":"Danglewood","lastUpdatedAt":1753314468000,"sidebarPosition":2,"frontMatter":{"title":"Output Data","sidebar_position":2,"description":"This page details the basic response and output that can be expected to be received from the the OpenBB Platform.","keywords":["tutorial","standardized output","OBBject","basic response","provider","results","warnings","chart","extra","command coverage"]},"sidebar":"tutorialSidebar","previous":{"title":"Input Query Parameters","permalink":"/platform/usage/syntax/input_query_parameters"},"next":{"title":"Overview","permalink":"/platform/usage/extensions/overview"}}');var s=t(74848),i=t(28453),r=t(39068);const o={title:"Output Data",sidebar_position:2,description:"This page details the basic response and output that can be expected to be received from the the OpenBB Platform.",keywords:["tutorial","standardized output","OBBject","basic response","provider","results","warnings","chart","extra","command coverage"]},l=void 0,d={},c=[{value:"Python Interface",id:"python-interface",level:2},{value:"OBBject",id:"obbject",level:3},{value:"Metadata",id:"metadata",level:3},{value:"Execution Metadata",id:"execution-metadata",level:4},{value:"Disabling",id:"disabling",level:4},{value:"Results Metadata",id:"results-metadata",level:4},{value:"LLM friendly mode",id:"llm-friendly-mode",level:3},{value:"REST API",id:"rest-api",level:2},{value:"API Documentation",id:"api-documentation",level:3},{value:"Data API Keys",id:"data-api-keys",level:3},{value:"API Authorization",id:"api-authorization",level:3},{value:"Advanced API Settings",id:"advanced-api-settings",level:3},{value:"CORS Configuration",id:"cors-configuration",level:3},{value:"Servers List",id:"servers-list",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{title:"Basic Response - Usage | OpenBB Platform Docs"}),"\n",(0,s.jsx)(n.h2,{id:"python-interface",children:"Python Interface"}),"\n",(0,s.jsx)(n.h3,{id:"obbject",children:"OBBject"}),"\n",(0,s.jsxs)(n.p,{children:["The output of every command is an object which contains the results of the request, along with additional information. It is a custom class, ",(0,s.jsx)(n.code,{children:"OBBject"}),", and always returns with the fields listed below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"id: ...                 # UUID Tag\nresults: ...            # Serializable results.\nprovider: ...           # Provider name.\nwarnings: ...           # List of warnings.\nchart: ...              # Chart object.\nextra: ...              # Extra info.\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from openbb import obb\n\ndata = obb.equity.price.historical("SPY", provider="polygon")\n\ndata\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"OBBject\n\nid: 06520558-d54a-7e53-8000-7aafc8a42694\nresults: [{'date': datetime.datetime(2022, 10, 5, 0, 0), 'open': 375.62, 'high': 37...\nprovider: polygon\nwarnings: None\nchart: None\nextra: {'metadata': {'arguments': {'provider_choices': {'provider': 'polygon'}, 'st...\n"})}),"\n",(0,s.jsx)(n.p,{children:"Additional class methods are helpers for converting the results to a variety of formats."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"to_dict()"}),': converts to a dictionary, accepting all standard "orientation" parameters, i.e., "records"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"to_df()"})," / ",(0,s.jsx)(n.code,{children:"to_dataframe()"}),": converts to a Pandas DataFrame."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"to_numpy()"}),": converts to a Numpy array."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"to_polars()"}),": converts to a Polars table."]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"The preferred output type can be set with a user preference."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'obb.user.preferences.output_type="dataframe"\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"metadata",children:"Metadata"}),"\n",(0,s.jsxs)(n.p,{children:["The OpenBB Platform returns metadata related to the command execution, as well as any returned from a Provider endpoint.\nBoth are stored in the ",(0,s.jsx)(n.code,{children:"extra"})," attribute of the ",(0,s.jsx)(n.a,{href:"/platform/developer_guide/architecture_overview#obbject-class",children:"OBBject"})," response object."]}),"\n",(0,s.jsx)(n.p,{children:"It will always contain these elements:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"arguments"}),": Any parameters supplied, and the selected provider source, to the function."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"duration"}),": The number of nanoseconds the function took to complete."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"route"}),": The command path."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"timestamp"}),": Timestamp for when the command was run."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"execution-metadata",children:"Execution Metadata"}),"\n",(0,s.jsxs)(n.p,{children:["Metadata for the command execution is captured under the ",(0,s.jsx)(n.code,{children:"metadata"})," key."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from openbb import obb\n\ndata = obb.economy.calendar(provider="nasdaq")\n\ndata.extra\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"{'metadata': Metadata\n\n arguments: {'provider_choices': {'provider': 'nasdaq'}, 'standard_params': {'start_date': None, 'end_date': None}, 'extra_params': {}}\n duration: 565256375\n route: /economy/calendar\n timestamp: 2024-05-22 11:28:57.149548}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"disabling",children:"Disabling"}),"\n",(0,s.jsxs)(n.p,{children:["This content can be disabled as a setting in the ",(0,s.jsx)(n.a,{href:"/platform/settings/environment_variables",children:(0,s.jsx)(n.code,{children:"user_settings.json"})})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "preferences": {\n    "metadata": false\n  }\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Metadata included as part of the command results will not be disabled by this setting."})}),"\n",(0,s.jsx)(n.h4,{id:"results-metadata",children:"Results Metadata"}),"\n",(0,s.jsxs)(n.p,{children:["Where commands return metadata related to the requested data, it is keyable from the ",(0,s.jsx)(n.code,{children:"extra"})," attribute with, ",(0,s.jsx)(n.code,{children:"results_metadata"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["This dictionary contains contextual information and data for the ",(0,s.jsx)(n.code,{children:"results"})," that is not included in the tables.\nResults metadata will vary by command and provider, so it is worth exploring when it is included, below is a selection of samples."]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{mdxType:"summary",children:"FRED"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'data = obb.economy.fred_series("T10Y2Y")\n\ndata.extra["results_metadata"]\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"{'T10Y2Y': {'title': '10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity',\n  'units': 'Percent',\n  'frequency': 'Daily',\n  'seasonal_adjustment': 'Not Seasonally Adjusted',\n  'notes': 'Starting with the update on June 21, 2019, the Treasury bond data used in calculating interest rate spreads is obtained directly from the U.S. Treasury Department (https://www.treasury.gov/resource-center/data-chart-center/interest-rates/Pages/TextView.aspx?data=yield).\\r\\nSeries is calculated as the spread between 10-Year Treasury Constant Maturity (BC_10YEAR) and 2-Year Treasury Constant Maturity (BC_2YEAR). Both underlying series are published at the U.S. Treasury Department (https://www.treasury.gov/resource-center/data-chart-center/interest-rates/Pages/TextView.aspx?data=yield).'}}\n"})}),(0,s.jsxs)(n.p,{children:["The information stored here is used by the ",(0,s.jsx)(n.code,{children:"openbb-charting"})," extension for display."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/67746ef0-7d61-4eed-b2e8-c32d001a8a00",alt:"FRED Chart"})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{mdxType:"summary",children:"EconDB"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'data = obb.economy.indicators("PCOPP", provider="econdb")\n\ndata.extra\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"{'results_metadata': {'PCOPP': {'title': 'World - Copper',\n   'country': 'World',\n   'frequency': 'M',\n   'dataset': 'IMF_PCPS',\n   'transform': None,\n   'units': 'USD',\n   'scale': 'Units',\n   'multiplier': 1,\n   'additional_info': {'FREQ:Frequency': 'M:Monthly',\n    'REF_AREA:Reference Area': 'W00:All Countries, excluding the IO',\n    'COMMODITY:Commodity': 'PCOPP:Primary Commodity Prices, Copper',\n    'UNIT_MEASURE:Unit of Measure': 'USD:US Dollars',\n    'UNIT_MULT:Scale': '0:Units'}}},\n}\n"})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{mdxType:"summary",children:"Cboe"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'data = obb.derivatives.options.chains("SPX", provider="cboe")\n\ndata.extra\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"{'results_metadata': {'symbol': '^SPX',\n  'security_type': 'index',\n  'bid': 5293.0298,\n  'bid_size': 1,\n  'ask': 5295.2002,\n  'ask_size': 1,\n  'open': 5319.2798,\n  'high': 5323.1802,\n  'low': 5286.0098,\n  'close': 5294.0898,\n  'volume': 0,\n  'current_price': 5294.0898,\n  'prev_close': 5321.4102,\n  'change': -27.3202,\n  'change_percent': None,\n  'iv30': 10.291,\n  'iv30_change': 0.546,\n  'iv30_change_percent': 0.056029,\n  'last_tick': 'down',\n  'last_trade_timestamp': '2024-05-22 14:50:36'},\n}\n"})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{mdxType:"summary",children:"SEC"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'data = obb.etf.holdings("BIL", provider="sec")\n\ndata.extra\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"{'results_metadata': {'fund_name': 'SPDR(R) Bloomberg 1-3 Month T-Bill ETF',\n  'series_id': 'S000017326',\n  'lei': '549300GQCVCME1YJ6B50',\n  'period_ending': '2023-12-31',\n  'fiscal_year_end': '2024-06-30',\n  'total_assets': 35015168619.91,\n  'total_liabilities': 1638123692.3,\n  'net_assets': 33377044927.61,\n  'cash_and_equivalents': '0.00000000',\n  'returns': {'2023-10-31': 0.0044,\n   '2023-11-30': 0.0044,\n   '2023-12-31': 0.0046},\n  'flow': {'2023-10-31': {'creation': 6591274706.7,\n    'redemption': 604472521.85},\n   '2023-11-30': {'creation': 3244045301.3, 'redemption': 4478684406.9},\n   '2023-12-31': {'creation': 639802303.2, 'redemption': 3018629744.0}},\n  'gains': {'2023-10-31': {'realized': -65924.99, 'unrealized': -3793500.04},\n   '2023-11-30': {'realized': 360345.39, 'unrealized': 292210.09},\n   '2023-12-31': {'realized': 319796.93, 'unrealized': 3862704.46}},\n  'borrowers': [{'name': 'BofA Securities, Inc.',\n    'lei': '549300HN4UKV1E2R3U73',\n    'value': 211562959.29},\n   {'name': 'J.P. Morgan Securities LLC',\n    'lei': 'ZBUT11V806EZRVTWT807',\n    'value': 957576952.9},\n   {'name': 'ING Financial Markets LLC',\n    'lei': 'KBVRJ5K57JZ3E2AVWX40',\n    'value': 247944722.5},\n   {'name': 'Barclays Capital Inc.',\n    'lei': 'AC28XWWI3WIBK2824319',\n    'value': 248250000.0},\n   {'name': 'Goldman Sachs & Co. LLC',\n    'lei': 'FOR8UP27PHTHYVLBNG30',\n    'value': 110741598.05},\n   {'name': 'Bank of Montreal',\n    'lei': 'NQQ6HPCNCCU6TUTQYE16',\n    'value': 87276542.32},\n   {'name': 'Nomura Securities International, Inc.',\n    'lei': 'OXTKY6Q8X53C9ILVV871',\n    'value': 469556172.09},\n   {'name': 'Daiwa Capital Markets America Inc.',\n    'lei': 'M67H5PRC0NQKM73ZAS82',\n    'value': 198566750.0}]}\n}\n"})})]}),"\n",(0,s.jsx)(n.h3,{id:"llm-friendly-mode",children:"LLM friendly mode"}),"\n",(0,s.jsxs)(n.p,{children:["The OpenBB Platform provides a way to enable the Large Language Model (LLM) mode, which allows you to use LLM frameworks such as ",(0,s.jsx)(n.a,{href:"https://github.com/jackmpcollins/magentic",children:"Magentic"}),", ",(0,s.jsx)(n.a,{href:"https://github.com/langchain-ai/langchain",children:"Langchain"}),", ",(0,s.jsx)(n.a,{href:"https://github.com/deepset-ai/haystack",children:"Haystack"}),", and more."]}),"\n",(0,s.jsx)(n.p,{children:"This guide outlines the steps to enable LLM mode in the OpenBB Platform."}),"\n",(0,s.jsx)(n.p,{children:"We first start by importing the OpenBB Platform:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from openbb import obb\n"})}),"\n",(0,s.jsx)(n.p,{children:"The LLM mode is made possible by setting the system and user preferences to an LLM-compatible mode."}),"\n",(0,s.jsx)(n.p,{children:"First, we set the user preference:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'obb.user.preferences.output_type="llm"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This line of code converts the ",(0,s.jsx)(n.code,{children:"OBBject"})," response data results into a format that works good with LLM models. This is based on our own experience with building LLM agents for financial data. You can try other output types such as ",(0,s.jsx)(n.code,{children:"dict"}),", or similar. You can also build your custom output type."]}),"\n",(0,s.jsx)(n.p,{children:"Next, we set the system preferences:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"obb.system.python_settings.docstring_sections=['description', 'examples']\n"})}),"\n",(0,s.jsx)(n.p,{children:"This system preference trims the docstrings of the commands so that they can fit into the LLM model's context size and also avoid redundant information. The redundant information comes from the information inside the signature of the command that is also written in the docstring."}),"\n",(0,s.jsx)(n.p,{children:"As our docstrings are modular we can easily choose which section of the docstrings to include. Available docstring sections are the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"description"}),"\n",(0,s.jsx)(n.li,{children:"parameters"}),"\n",(0,s.jsx)(n.li,{children:"returns"}),"\n",(0,s.jsx)(n.li,{children:"examples"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The next step is to limit the size of the docstrings:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"obb.system.python_settings.docstring_max_length=1024\n"})}),"\n",(0,s.jsx)(n.p,{children:"We do this to ensure that the docstrings are not too long for the LLM model to process. The LLM model has a limit on the number of tokens it can process at once, and this setting ensures that the docstrings are within that limit."}),"\n",(0,s.jsxs)(n.p,{children:["Finally, we can import ",(0,s.jsx)(n.code,{children:"openbb"})," and rebuild the Python static assets to apply these system changes:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import openbb\nopenbb.build()\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now you have successfully enabled LLM mode in the OpenBB Platform. You can now use LLM frameworks to interact with the OpenBB Platform and build financial agents that can understand and respond to financial data."}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from magentic import prompt_chain, FunctionCall, OpenaiChatModel\n\n@prompt_chain(\n    "You are a helpful financial agent that can use function calling to retrieve data.\\nUser Query: {query}",\n    functions=[obb.equity.price.quote],\n    model=OpenaiChatModel(model="gpt-4-turbo-preview")\n)\ndef llm(query: str) -> FunctionCall | str: ...\n\nr = llm(query="What is the current stock price of AAPL?")\nr\n'})}),"\n",(0,s.jsx)(n.h2,{id:"rest-api",children:"REST API"}),"\n",(0,s.jsx)(n.p,{children:"The OpenBB Platform comes with a FastAPI application that serves platform commands as REST API endpoints."}),"\n",(0,s.jsx)(n.p,{children:"Activate the Python environment and then start the server from a Terminal command line with:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"uvicorn openbb_core.api.rest_api:app\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/platform/settings/system_settings",children:"System Settings"})," for details on configuring settings in ",(0,s.jsx)(n.code,{children:"system_settings.json"})]})}),"\n",(0,s.jsxs)(n.p,{children:["You can add arguments that are supported by ",(0,s.jsx)(n.code,{children:"uvicorn"})," to customize how the API is launched.\nFor example this command will be useful if you are developing. It will launch the API in a way it's reachable on your local network and reload every time the code changes:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"uvicorn openbb_core.api.rest_api:app --host 0.0.0.0 --port 8000 --reload\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To learn more about how you can run the API in different scenarios refer to ",(0,s.jsx)(n.a,{href:"https://www.uvicorn.org/#command-line-options",children:"uvicorn's documentation"})]}),"\n",(0,s.jsx)(n.h3,{id:"api-documentation",children:"API Documentation"}),"\n",(0,s.jsxs)(n.p,{children:["The Fast API app comes with a swagger documentation page. When running the API locally, navigate to ",(0,s.jsx)(n.a,{href:"http://127.0.0.1:8000/docs",children:"http://127.0.0.1:8000/docs"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The API Docs provide interactive descriptions of all available endpoints that you can call right from the documentation web page."}),"\n",(0,s.jsx)(n.h3,{id:"data-api-keys",children:"Data API Keys"}),"\n",(0,s.jsxs)(n.p,{children:["The API keys to your data providers are loaded from the ",(0,s.jsx)(n.code,{children:"~/.openbb_platform/user_settings.json"})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["You can find more information about the structure of the file and environment variables in the ",(0,s.jsx)(n.a,{href:"/platform/settings/user_settings/api_keys",children:"Local Environment"})," section."]}),"\n",(0,s.jsx)(n.h3,{id:"api-authorization",children:"API Authorization"}),"\n",(0,s.jsxs)(n.p,{children:["By default, no authorization is required. Basic authorization can be enabled with environment variables. In the ",(0,s.jsx)(n.code,{children:"~/.openbb_platform"})," folder, next to the ",(0,s.jsx)(n.code,{children:"user_settings.json"}),", create a new file, ",(0,s.jsx)(n.code,{children:".env"}),", if it does not yet exist. Set your Basic Auth credentials."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-.env",children:'OPENBB_API_AUTH="True"\nOPENBB_API_USERNAME="my_email"\nOPENBB_API_PASSWORD="my_password"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The application will expect a header that contains username and password in the form of ",(0,s.jsx)(n.code,{children:"Basic <username:password>"}),', where "username',":password",'" is encoded in Base64. Pass this in every request to the API inside the headers "Authorization" field.']}),"\n",(0,s.jsx)(n.p,{children:"Here is an example of calling the API that has Basic Authorization enabled from python."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import base64\nimport requests\n\nmsg = "some_user:some_pass"\nmsg_bytes = msg.encode(\'ascii\')\nbase64_bytes = base64.b64encode(msg_bytes)\nbase64_msg = base64_bytes.decode(\'ascii\')\n\n\nsymbol="SPY"\nurl = f"http://127.0.0.1:8000/api/v1/equity/price/quote?provider=intrinio&symbol={symbol}&source=intrinio_mx"\nheaders = {"accept": "application/json", "Authorization": f"Basic {base64_msg}"}\n\nresponse = requests.get(url=url, headers=headers)\n\nresponse.json()\n'})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-api-settings",children:"Advanced API Settings"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/platform/settings/system_settings",children:"System Settings"})," for details on configuring settings in ",(0,s.jsx)(n.code,{children:"system_settings.json"})]})}),"\n",(0,s.jsx)(n.p,{children:'When deploying the API to the public internet, it\'s crucial to configure it in a way you ensure the application functions correctly and securely. Two critical aspects to consider are Cross-Origin Resource Sharing (CORS) and the configuration of the "servers" list.'}),"\n",(0,s.jsxs)(n.p,{children:["The configuration for these settings is managed through the ",(0,s.jsx)(n.code,{children:"system_settings.json"})," file, which should be located in the same directory as your ",(0,s.jsx)(n.code,{children:"user_settings.json"}),". This JSON file allows you to specify various settings that affect the behavior of the API. Here's an example structure of the ",(0,s.jsx)(n.code,{children:"system_settings.json"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "api_settings": {\n    "version": "1",\n    "title": "OpenBB Platform API",\n    "description": "This is the OpenBB Platform API.",\n    "terms_of_service": "http://example.com/terms/",\n    "contact_name": "OpenBB Team",\n    "contact_url": "https://openbb.co",\n    "contact_email": "hello@openbb.co",\n    "license_name": "AGPLv3",\n    "license_url": "https://github.com/OpenBB-finance/OpenBB/blob/develop/LICENSE",\n    "servers": [\n      {\n        "url": "",\n        "description": "Local OpenBB development server"\n      }\n    ],\n    "cors": {\n      "allow_origins": ["*"],\n      "allow_methods": ["*"],\n      "allow_headers": ["*"]\n    },\n    "prefix": "/api/v1"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"cors-configuration",children:"CORS Configuration"}),"\n",(0,s.jsx)(n.p,{children:"The cors section within the api_settings is particularly important for web applications. It defines the rules for which external domains are allowed to access your API."}),"\n",(0,s.jsx)(n.p,{children:'In the example above, the settings are permissive ("*" for origins, methods, and headers), which means any external domain can request resources from your API. This setting might be suitable for development, but when deploying to public internet, you should specify the exact domains, methods, and headers to tighten security.'}),"\n",(0,s.jsx)(n.h3,{id:"servers-list",children:"Servers List"}),"\n",(0,s.jsx)(n.p,{children:"The servers array is used to specify the different environments where your API can be accessed."}),"\n",(0,s.jsx)(n.p,{children:"In the example, there is only one server defined, which is the local development server. For deployment to public internet, you would add an entry for the public server URL and any other environments where your API is accessible."})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);