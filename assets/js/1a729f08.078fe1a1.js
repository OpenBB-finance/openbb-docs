"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[35091],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}},39068:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var i=n(27143),o=n(74848);function a(e){let{title:t}=e;return(0,o.jsx)(i.A,{children:(0,o.jsx)("title",{children:t})})}},55500:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"workspace/developers/widget-configuration/matching-widget-to-mcp-tool","title":"Matching widget to MCP tool","description":"Learn how you can make it so an MCP server and tool are associated with a specific widget","source":"@site/content/workspace/developers/widget-configuration/matching-widget-to-mcp-tool.md","sourceDirName":"workspace/developers/widget-configuration","slug":"/workspace/developers/widget-configuration/matching-widget-to-mcp-tool","permalink":"/workspace/developers/widget-configuration/matching-widget-to-mcp-tool","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/developers/widget-configuration/matching-widget-to-mcp-tool.md","tags":[],"version":"current","lastUpdatedBy":"Danglewood","lastUpdatedAt":1761197956000,"sidebarPosition":22,"frontMatter":{"title":"Matching widget to MCP tool","sidebar_position":22,"description":"Learn how you can make it so an MCP server and tool are associated with a specific widget","keywords":["MCP tool","matching widget","MCP server","widgets.json","citations"]},"sidebar":"tutorialSidebar","previous":{"title":"Render Functions","permalink":"/workspace/developers/widget-configuration/render-functions"},"next":{"title":"Apps","permalink":"/workspace/developers/apps/"}}');var o=n(74848),a=n(28453),s=n(39068);const r={title:"Matching widget to MCP tool",sidebar_position:22,description:"Learn how you can make it so an MCP server and tool are associated with a specific widget",keywords:["MCP tool","matching widget","MCP server","widgets.json","citations"]},c=void 0,d={},l=[{value:"How It Works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Example",id:"example",level:2},{value:"1. Connect MCP Server",id:"1-connect-mcp-server",level:3},{value:"2. Configure OpenBB widget with matching MCP",id:"2-configure-openbb-widget-with-matching-mcp",level:3},{value:"3. Matching widget citation",id:"3-matching-widget-citation",level:3}];function h(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{title:"Matching widget to MCP tool | OpenBB Workspace Docs"}),"\n",(0,o.jsxs)(t.p,{children:["When an MCP (Model Context Protocol) tool is invoked, OpenBB Workspace can automatically detect if there's a matching widget configured and provide a matching citation. This is achieved through configuration in your ",(0,o.jsx)(t.code,{children:"widgets.json"})," file."]}),"\n",(0,o.jsx)(t.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsx)(t.p,{children:"OpenBB Workspace checks if a widget has been configured with matching MCP tool metadata. When a match is found:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"The system shows a notification that a matching widget was found"}),"\n",(0,o.jsx)(t.li,{children:"A citation is automatically generated and attached to the MCP tool response"}),"\n",(0,o.jsx)(t.li,{children:"The citation includes widget details like name, description, and input parameters"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(t.admonition,{type:"important",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"mcp_server"})," and ",(0,o.jsx)(t.code,{children:"tool_id"})," provided should match 1:1 the ones that are connected to OpenBB Copilot."]})}),"\n",(0,o.jsxs)(t.p,{children:["To enable widget matching for MCP tools, add an ",(0,o.jsx)(t.code,{children:"mcp_tool"})," property, like:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'"mcp_tool": {\n  "mcp_server": "server_name",\n  "tool_id": "tool_name"\n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The widget configuration in ",(0,o.jsx)(t.code,{children:"widgets.json"})," should be like:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n  "widgetId": "your_widget_id",\n  "name": "Your Widget Name",\n  "description": "Widget description",\n  ...\n  "mcp_tool": {\n    "mcp_server": "server_name",\n    "tool_id": "tool_name"\n  }\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,o.jsxs)(t.p,{children:["We will utilize this ",(0,o.jsx)(t.a,{href:"https://github.com/OpenBB-finance/backends-for-openbb/tree/main/widget-examples/matching-widget-mcp-tool",children:"repository example"})," as a way to demonstrate the flow."]}),"\n",(0,o.jsx)(t.h3,{id:"1-connect-mcp-server",children:"1. Connect MCP Server"}),"\n",(0,o.jsxs)(t.p,{children:["First you want to connect the MCP Server to identify the server name and tool that you will need to reference in your ",(0,o.jsx)(t.code,{children:"widgets.json"})," configuration."]}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"MCP Server connection dialog showing 'Financial Data' server name",src:"https://openbb-cms.directus.app/assets/6d66dcf3-98c0-4150-aace-035a063df35a.png"}),"\n",(0,o.jsxs)(t.p,{children:['In the case above, note that the name of MCP Server is "Financial Data" - this will be the value you need for the ',(0,o.jsx)(t.code,{children:"mcp_server"})," field in your ",(0,o.jsx)(t.code,{children:"widgets.json"}),"."]}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"MCP tool configuration showing 'get_company_revenue_data' tool name",src:"https://openbb-cms.directus.app/assets/643af141-6b8c-4828-b7dc-2242560d71f8.png"}),"\n",(0,o.jsxs)(t.p,{children:['Similarly, the MCP tool is "get_company_revenue_data" - this will be the value you need for the ',(0,o.jsx)(t.code,{children:"tool_id"})," field in your ",(0,o.jsx)(t.code,{children:"widgets.json"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"2-configure-openbb-widget-with-matching-mcp",children:"2. Configure OpenBB widget with matching MCP"}),"\n",(0,o.jsxs)(t.p,{children:["The important is for the widget configuration to include ",(0,o.jsx)(t.code,{children:"mcp_tool"})," with the ",(0,o.jsx)(t.strong,{children:"EXACT"})," same names as the ones from your MCP Server:"]}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Widget configuration showing mcp_tool property with server and tool ID",src:"https://openbb-cms.directus.app/assets/1603ad32-6bd2-43bc-a4cc-553cb4163c34.png"}),"\n",(0,o.jsxs)(t.p,{children:["Notice how the ",(0,o.jsx)(t.code,{children:"mcp_server"}),' value "Financial Data" and ',(0,o.jsx)(t.code,{children:"tool_id"}),' value "get_company_revenue_data" match exactly with the MCP server configuration from step 1.']}),"\n",(0,o.jsx)(t.p,{children:"The name and URL of the backend can be ANYTHING."}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"OpenBB backend connection interface showing name and URL fields",src:"https://openbb-cms.directus.app/assets/77a2c0d8-3a9b-47a7-933e-85e7131ef954.png"}),"\n",(0,o.jsx)(t.h3,{id:"3-matching-widget-citation",children:"3. Matching widget citation"}),"\n",(0,o.jsx)(t.p,{children:"This is when the magic happens. If the user has that MCP tool enabled, and asks something like:"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:'"Utilize financial data MCP tool and get company revenue data for AAPL"'}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Then when the MCP tool is utilized, the user will see a toast like the following:"}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Toast notification showing 'Matching widget found' message",src:"https://openbb-cms.directus.app/assets/655482de-3d2b-426c-8315-dbb579c78f16.png"}),"\n",(0,o.jsx)(t.p,{children:"This indicates that a matching widget was found."}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Chat response showing matching widget citation with asterisk indicator",src:"https://openbb-cms.directus.app/assets/d2c50edb-43e2-4771-9125-b31117501a61.png"}),"\n",(0,o.jsxs)(t.p,{children:["The user will be able to see that this is a matching widget, by the property of having a ",(0,o.jsx)(t.code,{children:"*"})," at the end."]}),"\n",(0,o.jsx)(t.p,{children:"When hovering on top of that widget, the user will be able to add it to the dashboard to the same parameters as the ones that were utilized by the copilot."}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Widget hover tooltip showing option to add to dashboard",src:"https://openbb-cms.directus.app/assets/a719abc4-9b2f-41c7-b1a8-dd84fc707b77.png"}),"\n",(0,o.jsx)(t.p,{children:"The advantage now is that the user can interact with the parameters, charting and all other OpenBB widgets properties."}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Interactive widget dashboard showing parameters, charting, and OpenBB properties",src:"https://openbb-cms.directus.app/assets/6f0df91c-195f-48c4-9fbe-13ed589245a9.png"})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);