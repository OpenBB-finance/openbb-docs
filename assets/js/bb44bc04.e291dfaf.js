"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[60450],{10443:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"workspace/developers/data-integration","title":"Data Integration","description":"Learn how to integrate your own data sources and APIs into OpenBB Workspace with a custom backend solution.","source":"@site/content/workspace/developers/data-integration.md","sourceDirName":"workspace/developers","slug":"/workspace/developers/data-integration","permalink":"/workspace/developers/data-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/developers/data-integration.md","tags":[],"version":"current","lastUpdatedBy":"Andrew","lastUpdatedAt":1763064318000,"sidebarPosition":1,"frontMatter":{"title":"Data Integration","sidebar_position":1,"description":"Learn how to integrate your own data sources and APIs into OpenBB Workspace with a custom backend solution.","keywords":["Data Integration","Custom Backend","API Endpoints","Widget Configuration","Data Connectors","User Interface","Real-time Updates","Single Widget","Data Key Parameter","Nested JSON"]},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting","permalink":"/workspace/analysts/excel-addin/troubleshooting"},"next":{"title":"Markdown","permalink":"/workspace/developers/widget-types/markdown"}}');var i=t(74848),o=t(28453),r=t(39068);t(96540);function s(e){let{youtubeLink:n,videoLegend:t="Tutorial video"}=e;return(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:"0",overflow:"hidden",maxWidth:"100%"},children:(0,i.jsx)("iframe",{id:n,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"block",margin:"0 auto"},src:n,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})}const l={title:"Data Integration",sidebar_position:1,description:"Learn how to integrate your own data sources and APIs into OpenBB Workspace with a custom backend solution.",keywords:["Data Integration","Custom Backend","API Endpoints","Widget Configuration","Data Connectors","User Interface","Real-time Updates","Single Widget","Data Key Parameter","Nested JSON"]},d=void 0,c={},p=[{value:"Getting Started: Hello World Example",id:"getting-started-hello-world-example",level:2},{value:"0. Prerequisites",id:"0-prerequisites",level:3},{value:"1. Create the API Server",id:"1-create-the-api-server",level:3},{value:"2. Configure Widgets",id:"2-configure-widgets",level:3},{value:"3. Configure App Layout (Optional)",id:"3-configure-app-layout-optional",level:3},{value:"4. Run the Application",id:"4-run-the-application",level:3},{value:"5. Add to OpenBB",id:"5-add-to-openbb",level:3},{value:"6. Set up Authentication / or API keys",id:"6-set-up-authentication--or-api-keys",level:3},{value:"7. Voila",id:"7-voila",level:3},{value:"Reference Backend",id:"reference-backend",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{title:"Data Integration | OpenBB Workspace Docs"}),"\n",(0,i.jsx)(n.p,{children:"OpenBB Workspace provides a powerful custom backend feature that enables you to integrate your own data sources and APIs directly into the platform. This integration capability allows you to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create personalized widgets that display your custom data"}),"\n",(0,i.jsx)(n.li,{children:"Leverage OpenBB's AI agents with your proprietary data"}),"\n",(0,i.jsx)(n.li,{children:"Build a seamless workflow between your data sources and OpenBB's analysis tools"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A custom backend is an API that returns data in a format that OpenBB Workspace understands, with specifications defined in a ",(0,i.jsx)(n.code,{children:"widgets.json"})," file. This approach gives you complete flexibility in choosing your technology stack while ensuring compatibility with OpenBB Workspace."]}),"\n",(0,i.jsx)(s,{youtubeLink:"https://www.youtube.com/embed/BbAGb-fciIc?si=IM_WJ9miEaqFKJAN",videoLegend:"Learn how to integrate your custom backend with OpenBB Workspace"}),"\n",(0,i.jsx)(n.h2,{id:"getting-started-hello-world-example",children:"Getting Started: Hello World Example"}),"\n",(0,i.jsx)(n.p,{children:"Let's walk through a simple example to demonstrate how to integrate a custom backend. We'll create a basic \"Hello World\" application that you can use as a template for your own integrations."}),"\n",(0,i.jsxs)(n.p,{children:["The complete example code is available in our ",(0,i.jsx)(n.a,{href:"https://github.com/OpenBB-finance/backend-examples-for-openbb-workspace/tree/main/getting-started/hello-world",children:"GitHub repository"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"0-prerequisites",children:"0. Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before we begin, ensure you have the following installed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install fastapi uvicorn\n"})}),"\n",(0,i.jsx)(n.h3,{id:"1-create-the-api-server",children:"1. Create the API Server"}),"\n",(0,i.jsxs)(n.p,{children:["Create a ",(0,i.jsx)(n.code,{children:"main.py"})," file with the following code:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# Import required libraries\nimport json\nfrom pathlib import Path\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\n\n# Initialize FastAPI application with metadata\napp = FastAPI(\n    title="Hello World",\n    description="Hello World app for OpenBB Workspace",\n    version="0.0.1"\n)\n\n# Define allowed origins for CORS (Cross-Origin Resource Sharing)\n# This restricts which domains can access the API\norigins = [\n    "https://pro.openbb.co",\n]\n\n# Configure CORS middleware to handle cross-origin requests\n# This allows the specified origins to make requests to the API\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=origins,\n    allow_credentials=True,\n    allow_methods=["*"],  # Allow all HTTP methods\n    allow_headers=["*"],  # Allow all headers\n)\n\n@app.get("/")\ndef read_root():\n    """Root endpoint that returns basic information about the API"""\n    return {"Info": "Hello World example"}\n\n# Widgets configuration file for the OpenBB Workspace\n# it contains the information and configuration about all the\n# widgets that will be displayed in the OpenBB Workspace\n@app.get("/widgets.json")\ndef get_widgets():\n    """Widgets configuration file for the OpenBB Workspace\n\n    Returns:\n        JSONResponse: The contents of widgets.json file\n    """\n    # Read and return the widgets configuration file\n    return JSONResponse(\n        content=json.load((Path(__file__).parent.resolve() / "widgets.json").open())\n    )\n\n# Apps configuration file for the OpenBB Workspace\n# it contains the information and configuration about all the\n# apps that will be displayed in the OpenBB Workspace\n@app.get("/apps.json")\ndef get_apps():\n    """Apps configuration file for the OpenBB Workspace\n\n    Returns:\n        JSONResponse: The contents of apps.json file\n    """\n    # Read and return the apps configuration file\n    return JSONResponse(\n        content=json.load((Path(__file__).parent.resolve() / "apps.json").open())\n    )\n\n# Hello World endpoint - for it to be recognized by the OpenBB Workspace\n# it needs to be added to the widgets.json file endpoint\n@app.get("/hello_world")\ndef hello_world(name: str = ""):\n    """Returns a personalized greeting message.\n\n    Args:\n        name (str, optional): Name to include in the greeting. Defaults to empty string.\n\n    Returns:\n        str: A greeting message with the provided name in markdown format.\n    """\n    # Return a markdown-formatted greeting with the provided name\n    return f"# Hello World {name}"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-configure-widgets",children:"2. Configure Widgets"}),"\n",(0,i.jsxs)(n.p,{children:["Create a ",(0,i.jsx)(n.code,{children:"widgets.json"})," file to define your widget's properties. This file is your main configuration and defines widget properties such as name, description, category, endpoint, type of widget, and other information. Each widget will be defined in this file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "hello_world": {\n    "name": "Hello World",\n    "description": "A simple markdown widget that displays Hello World",\n    "category": "Hello World",\n    "type": "markdown",\n    "endpoint": "hello_world",\n    "gridData": { "w": 12, "h": 4 },\n    "source": "None",\n    "params": [\n      {\n        "paramName": "name",\n        "value": "",\n        "label": "Name",\n        "type": "text",\n        "description": "Enter your name"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-configure-app-layout-optional",children:"3. Configure App Layout (Optional)"}),"\n",(0,i.jsxs)(n.p,{children:["Create an ",(0,i.jsx)(n.code,{children:"apps.json"})," file to define the app's layout. This makes it so that there is a new App on OpenBB with a single markdown widget that says Hello World:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "Hello World",\n    "img": "",\n    "img_dark": "",\n    "img_light": "",\n    "description": "Hello World template",\n    "allowCustomization": true,\n    "tabs": {\n      "": {\n        "id": "",\n        "name": "",\n        "layout": [\n          {\n            "i": "hello_world",\n            "x": 0,\n            "y": 0,\n            "w": 12,\n            "h": 4,\n            "state": {\n              "params": {\n                "name": ""\n              }\n            }\n          }\n        ]\n      }\n    },\n    "groups": []\n  }\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-run-the-application",children:"4. Run the Application"}),"\n",(0,i.jsx)(n.p,{children:"Your project structure should look like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"backend/\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 widgets.json\n\u2514\u2500\u2500 apps.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"Start the server with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"uvicorn main:app --reload --host 0.0.0.0 --port 7779\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see output similar to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ uvicorn main:app --reload --host 0.0.0.0 --port 7779\nINFO:     Uvicorn running on http://0.0.0.0:7779 (Press CTRL+C to quit)\nINFO:     Started reloader process [59166] using WatchFiles\nINFO:     Started server process [59168]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The application will be available at ",(0,i.jsx)(n.code,{children:"http://127.0.0.1:7779"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"5-add-to-openbb",children:"5. Add to OpenBB"}),"\n",(0,i.jsx)(n.p,{children:'You can then add this backend to OpenBB Workspace by right clicking on the dashboard and clicking "Add data", and do the following:'}),"\n",(0,i.jsx)("img",{width:"800",alt:"Apps",src:"https://openbb-cms.directus.app/assets/80898c79-cb04-4361-afdd-945eb3e531be.png"}),"\n",(0,i.jsx)(n.h3,{id:"6-set-up-authentication--or-api-keys",children:"6. Set up Authentication / or API keys"}),"\n",(0,i.jsx)(n.p,{children:"Generally, it\u2019s recommended to enable authentication for your backend to ensure secure access. Another common use case is when connecting to a third-party data provider that requires an API key. To handle this securely, we recommend including the key in a custom header (for example, X-API-KEY)."}),"\n",(0,i.jsx)(n.p,{children:"Here are some benefits of using a custom header:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Security: you can keep credentials or API keys out of URLs and logs."}),"\n",(0,i.jsx)(n.li,{children:"Flexibility: this method supports multiple API keys / credentials per request."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Here\u2019s an example of how you can add this to your main.py:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'from fastapi import FastAPI, Request, HTTPException\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env file (recommended)\nload_dotenv()\n\napp = FastAPI(title="Custom Header Example", version="0.0.1")\n\n@app.get("/secure_hello")\ndef secure_hello(request: Request, name: str = ""):\n    """Returns a personalized message if the correct API key is provided."""\n\n    # -------------------------------------------------------------------------\n    # NOTE:\n    # It is recommended to set your API keys as environment variables.\n    # Example: create a `.env` file with the line below:\n    # VALID_API_KEYS=my-secret-key,another-valid-key\n    #\n    # For quick local testing, you can also define keys directly in code:\n    # valid_api_keys = ["my-secret-key", "another-valid-key"]\n    # (Make sure to comment out the environment variable line below.)\n    # -------------------------------------------------------------------------\n    \n    # Get allowed API keys from environment variables\n    valid_api_keys = os.getenv("VALID_API_KEYS", "").split(",")\n\n    # Get API key from header\n    api_key = request.headers.get("X-API-KEY")\n\n    if not api_key:\n        raise HTTPException(\n            status_code=401,\n            detail="API key required. Please include \'X-API-KEY\' in the request headers."\n        )\n\n    # Validate provided API key\n    if api_key.strip() not in [k.strip() for k in valid_api_keys]:\n        raise HTTPException(status_code=403, detail="Invalid API key")\n\n    # Return a markdown-formatted greeting\n    return f"# Hello {name}, your API key is valid!"\n\n'})}),"\n",(0,i.jsx)(n.p,{children:"Once configured, you can add your header values in the following way. These values will then be automatically passed along with any subsequent API calls."}),"\n",(0,i.jsx)("img",{width:"800",alt:"Authentication",src:"https://openbb-cms.directus.app/assets/70cb3454-bf1b-41eb-af52-85bdebfd75f4.png"}),"\n",(0,i.jsx)("img",{width:"800",alt:"Authentication-Key-Value-Pair",src:"https://openbb-cms.directus.app/assets/026b8815-555f-42dd-b3a0-25f991f4ca5e.png"}),"\n",(0,i.jsx)(n.h3,{id:"7-voila",children:"7. Voila"}),"\n",(0,i.jsx)("img",{width:"800",alt:"Apps",src:"https://openbb-cms.directus.app/assets/b34f315c-0f17-4e14-9b0d-0288d1cf7a5c.png"}),"\n",(0,i.jsx)(n.h2,{id:"reference-backend",children:"Reference Backend"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://github.com/OpenBB-finance/backends-for-openbb/tree/main/getting-started/reference-backend",children:"reference backend"})," serves as a comprehensive example repository showcasing implementations of most widget types and configuration patterns available in OpenBB Workspace."]}),"\n",(0,i.jsx)(n.p,{children:"This backend provides practical examples for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Complete Widget Type Coverage"}),": Examples for table, chart, metric, markdown, file viewer, and specialized widget implementations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Advanced Configuration Patterns"}),": Demonstrations of parameter linking, dynamic dropdowns, render functions, and custom formatting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-world Data Integration"}),": Working examples with external APIs, data transformation, and error handling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Best Practice Implementations"}),": Production-ready code patterns with proper authentication, caching, and performance optimization"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The reference backend functions both as a learning resource and a foundation for your own backend development. You can clone the repository, study the implementations, and adapt the patterns to your specific data sources and analytical requirements."}),"\n",(0,i.jsx)(n.p,{children:"Whether you're implementing your first widget or exploring advanced features like sparklines and custom formatters, the reference backend provides tested, documented examples that demonstrate the full capabilities of the OpenBB integration framework."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var a=t(96540);const i={},o=a.createContext(i);function r(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(o.Provider,{value:n},e.children)}},39068:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var a=t(27143),i=t(74848);function o(e){let{title:n}=e;return(0,i.jsx)(a.A,{children:(0,i.jsx)("title",{children:n})})}}}]);