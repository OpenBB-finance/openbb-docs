"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7619],{23721:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>w,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"workspace/widget-parameters/dependent-dropdown","title":"Dependent Dropdown","description":"Learn how to implement and use dependent dropdown parameters in OpenBB Workspace widgets, where options in one dropdown depend on the selection in another","source":"@site/content/workspace/widget-parameters/dependent-dropdown.md","sourceDirName":"workspace/widget-parameters","slug":"/workspace/widget-parameters/dependent-dropdown","permalink":"/workspace/widget-parameters/dependent-dropdown","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/widget-parameters/dependent-dropdown.md","tags":[],"version":"current","lastUpdatedBy":"DidierRLopes","lastUpdatedAt":1747929300000,"sidebarPosition":26,"frontMatter":{"title":"Dependent Dropdown","sidebar_position":26,"description":"Learn how to implement and use dependent dropdown parameters in OpenBB Workspace widgets, where options in one dropdown depend on the selection in another","keywords":["dependent dropdown","cascading dropdown","linked dropdown","widget parameters","dynamic options"]},"sidebar":"tutorialSidebar","previous":{"title":"Advanced Dropdown","permalink":"/workspace/widget-parameters/advanced-dropdown"},"next":{"title":"Input Form","permalink":"/workspace/widget-parameters/input-form"}}');var d=t(74848),r=t(28453),a=t(39068);const s={title:"Dependent Dropdown",sidebar_position:26,description:"Learn how to implement and use dependent dropdown parameters in OpenBB Workspace widgets, where options in one dropdown depend on the selection in another",keywords:["dependent dropdown","cascading dropdown","linked dropdown","widget parameters","dynamic options"]},p=void 0,i={},c=[];function l(e){const n={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.A,{title:"Dependent Dropdown | OpenBB Workspace Docs"}),"\n",(0,d.jsx)(n.p,{children:"A widget that demonstrates how to create dependent dropdowns where the options in one dropdown depend on the selection in another dropdown. This is useful when you want to filter options in a second dropdown based on the selection in the first dropdown."}),"\n",(0,d.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Dependent Dropdown Parameters Example",src:"https://openbb-cms.directus.app/assets/4900061b-078a-4294-8d76-a36f55bbad80.png"}),"\n",(0,d.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Dependent Dropdown Parameters Example 2",src:"https://openbb-cms.directus.app/assets/2f16ae18-78c4-4657-b569-8faed443fce1.png"}),"\n",(0,d.jsxs)(n.p,{children:["First, we create an endpoint that will provide the filtered list of documents based on the selected category. This endpoint takes a ",(0,d.jsx)(n.code,{children:"category"})," parameter and returns only the documents that match that category."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'@app.get("/document_options")\ndef get_document_options(category: str = "all"):\n    """Get filtered list of documents based on category"""\n    SAMPLE_DOCUMENTS = [\n        {\n            "name": "Q1 Report",\n            "category": "reports"\n        },\n        {\n            "name": "Q2 Report",\n            "category": "reports"\n        },\n        {\n            "name": "Investor Presentation",\n            "category": "presentations"\n        },\n        {\n            "name": "Product Roadmap",\n            "category": "presentations"\n        }\n    ]\n\n    filtered_docs = (\n        SAMPLE_DOCUMENTS if category == "all"\n        else [doc for doc in SAMPLE_DOCUMENTS if doc["category"] == category]\n    )\n    \n    return [\n        {\n            "label": doc["name"],\n            "value": doc["name"]\n        }\n        for doc in filtered_docs\n    ]\n'})}),"\n",(0,d.jsx)(n.p,{children:"Next, we create the widget that uses these dependent dropdowns. The widget has two parameters:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:'A category dropdown that lets users select between "All", "Reports", or "Presentations"'}),"\n",(0,d.jsx)(n.li,{children:"A document dropdown that shows documents filtered based on the selected category"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["The key to making this work is the ",(0,d.jsx)(n.code,{children:"optionsParams"})," field in the second parameter, which uses ",(0,d.jsx)(n.code,{children:"$category"})," to reference the value from the first parameter. This creates the dependency between the two dropdowns. These parameters are passed to the endpoint as a query parameter."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'@register_widget({\n    "name": "Dropdown Dependent Widget",\n    "description": "A simple widget with a dropdown depending on another dropdown",\n    "endpoint": "dropdown_dependent_widget",\n    "gridData": {"w": 16, "h": 6},\n    "type": "markdown",\n    "params": [\n        {\n            "paramName": "category",\n            "description": "Category of documents to fetch",\n            "value": "all",\n            "label": "Category",\n            "type": "text",\n            "options": [\n                {"label": "All", "value": "all"},\n                {"label": "Reports", "value": "reports"},\n                {"label": "Presentations", "value": "presentations"}\n            ]\n        },\n        {\n            "paramName": "document_type",\n            "description": "Document to display",\n            "label": "Select Document",\n            "type": "endpoint",\n            "optionsEndpoint": "/document_options",\n            "optionsParams": {\n                "category": "$category"\n            }\n        },\n    ]\n})\n@app.get("/dropdown_dependent_widget")\ndef dropdown_dependent_widget(category: str = "all", document_type: str = "all"):\n    """Returns a dropdown dependent widget"""\n    return f"""# Dropdown Dependent Widget\n- Selected category: **{category}**\n- Selected document: **{document_type}**\n"""\n'})}),"\n",(0,d.jsx)(n.p,{children:"When a user selects a category in the first dropdown, the second dropdown will automatically update to show only the documents that belong to that category. For example:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:'If "Reports" is selected, only "Q1 Report" and "Q2 Report" will appear in the second dropdown'}),"\n",(0,d.jsx)(n.li,{children:'If "Presentations" is selected, only "Investor Presentation" and "Product Roadmap" will appear'}),"\n",(0,d.jsx)(n.li,{children:'If "All" is selected, all documents will be shown'}),"\n"]})]})}function w(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(96540);const d={},r=o.createContext(d);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),o.createElement(r.Provider,{value:n},e.children)}},39068:(e,n,t)=>{t.d(n,{A:()=>r});t(96540);var o=t(27143),d=t(74848);function r(e){let{title:n}=e;return(0,d.jsx)(o.A,{children:(0,d.jsx)("title",{children:n})})}}}]);