"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[86315],{3477(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"workspace/developers/widget-types/newsfeed","title":"Newsfeed","description":"Learn how to create a newsfeed widget for OpenBB Workspace that displays articles in a clean, organized format.","source":"@site/content/workspace/developers/widget-types/newsfeed.md","sourceDirName":"workspace/developers/widget-types","slug":"/workspace/developers/widget-types/newsfeed","permalink":"/workspace/developers/widget-types/newsfeed","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/developers/widget-types/newsfeed.md","tags":[],"version":"current","lastUpdatedBy":"DidierRLopes","lastUpdatedAt":1769219863000,"sidebarPosition":10,"frontMatter":{"title":"Newsfeed","sidebar_position":10,"description":"Learn how to create a newsfeed widget for OpenBB Workspace that displays articles in a clean, organized format.","keywords":["widgets.json","OpenBB API","Newsfeed widget","Article display","News integration","FastAPI","Custom Backend"]},"sidebar":"tutorialSidebar","previous":{"title":"Plotly Charts","permalink":"/workspace/developers/widget-types/plotly-charts"},"next":{"title":"Live Grid","permalink":"/workspace/developers/widget-types/live-grid"}}');var i=n(74848),s=n(28453),r=n(94331);const o={title:"Newsfeed",sidebar_position:10,description:"Learn how to create a newsfeed widget for OpenBB Workspace that displays articles in a clean, organized format.",keywords:["widgets.json","OpenBB API","Newsfeed widget","Article display","News integration","FastAPI","Custom Backend"]},l=void 0,c={},d=[{value:"Data Structure",id:"data-structure",level:2},{value:"Basic Example",id:"basic-example",level:2},{value:"Live API Example with CoinDesk",id:"live-api-example-with-coindesk",level:2}];function p(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{title:"Newsfeed | OpenBB Workspace Docs"}),"\n",(0,i.jsx)(t.p,{children:"A widget that displays articles in a clean, organized newsfeed format. Each article can include title, date, author, excerpt, and full body content with markdown support."}),"\n",(0,i.jsx)("img",{className:"pro-border-gradient",width:"600",alt:"newsfeed",src:"https://openbb-assets.s3.us-east-1.amazonaws.com/docs/pro/newsfeed.png"}),"\n",(0,i.jsx)(t.h2,{id:"data-structure",children:"Data Structure"}),"\n",(0,i.jsx)(t.p,{children:"The newsfeed widget expects articles in a specific format:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'{\n    "title": string,    # Article title\n    "date": string,    # ISO 8601 formatted date\n    "author": string,  # Article author\n    "excerpt": string, # Short preview of the article\n    "body": string,    # Full article text (can include markdown)\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"basic-example",children:"Basic Example"}),"\n",(0,i.jsx)(t.p,{children:"Here's a simple example that returns sample news articles:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'@register_widget({\n    "name": "Sample News Feed",\n    "description": "A simple newsfeed widget with example articles",\n    "type": "newsfeed",\n    "endpoint": "sample_newsfeed",\n    "gridData": {\n        "w": 40,\n        "h": 20\n    },\n    "source": "example",\n    "params": [\n        {\n            "paramName": "category",\n            "label": "Category",\n            "description": "Filter news by category",\n            "type": "text",\n            "value": "all",\n            "options": [\n                {"label": "All", "value": "all"},\n                {"label": "Technology", "value": "tech"},\n                {"label": "Business", "value": "business"},\n                {"label": "Science", "value": "science"}\n            ]\n        },\n        {\n            "paramName": "limit",\n            "label": "Number of Articles",\n            "description": "Maximum number of articles to display",\n            "type": "number",\n            "value": "5"\n        }\n    ]\n})\n@app.get("/sample_newsfeed")\ndef get_sample_newsfeed(category: str = "all", limit: int = 5):\n    """Returns sample news articles in the required newsfeed format"""\n    \n    # Sample news data organized by category\n    sample_articles = {\n        "tech": [\n            {\n                "title": "AI Breakthrough: New Model Achieves Human-Level Reasoning",\n                "date": (datetime.now() - timedelta(hours=2)).isoformat(),\n                "author": "Sarah Johnson",\n                "excerpt": "Researchers at TechLab have unveiled a groundbreaking AI model that demonstrates unprecedented reasoning capabilities...",\n                "body": """# AI Breakthrough: New Model Achieves Human-Level Reasoning\n\nResearchers at TechLab have unveiled a groundbreaking AI model that demonstrates unprecedented reasoning capabilities, marking a significant milestone in artificial intelligence development.\n\n## Key Features\n- **Advanced reasoning**: The model can solve complex logical problems\n- **Multimodal understanding**: Processes text, images, and audio simultaneously\n- **Energy efficient**: Uses 40% less computational resources than previous models\n\nThe implications of this breakthrough extend across multiple industries, from healthcare to education, promising to revolutionize how we interact with AI systems."""\n            },\n            {\n                "title": "Quantum Computing Startup Raises $500M in Series C Funding",\n                "date": (datetime.now() - timedelta(hours=5)).isoformat(),\n                "author": "Michael Chen",\n                "excerpt": "QuantumLeap Technologies secures major funding round to accelerate development of commercial quantum processors...",\n                "body": """# Quantum Computing Startup Raises $500M in Series C Funding\n\nQuantumLeap Technologies announced today that it has secured $500 million in Series C funding, led by prominent venture capital firms.\n\nThe company plans to use the funding to:\n1. Scale manufacturing capabilities\n2. Expand research team by 200 engineers\n3. Develop partnerships with major cloud providers\n\nCEO Jane Smith stated, "This investment validates our approach to making quantum computing accessible to enterprises worldwide." """\n            }\n        ],\n        "business": [\n            {\n                "title": "Global Markets Rally on Positive Economic Data",\n                "date": (datetime.now() - timedelta(hours=1)).isoformat(),\n                "author": "Robert Williams",\n                "excerpt": "Stock markets across the globe surged today following the release of better-than-expected employment figures...",\n                "body": """# Global Markets Rally on Positive Economic Data\n\nStock markets worldwide experienced significant gains today as investors responded positively to robust employment data and inflation reports.\n\n## Market Performance\n- S&P 500: +2.3%\n- NASDAQ: +2.8%\n- FTSE 100: +1.9%\n- Nikkei 225: +2.1%\n\nAnalysts attribute the rally to renewed confidence in economic recovery and expectations of stable monetary policy."""\n            }\n        ],\n        "science": [\n            {\n                "title": "Scientists Discover New Earth-like Exoplanet in Habitable Zone",\n                "date": (datetime.now() - timedelta(hours=3)).isoformat(),\n                "author": "Dr. Emily Rogers",\n                "excerpt": "Astronomers using the James Webb Space Telescope have identified a potentially habitable exoplanet just 40 light-years away...",\n                "body": """# Scientists Discover New Earth-like Exoplanet in Habitable Zone\n\nA team of international astronomers has announced the discovery of an Earth-like exoplanet orbiting within the habitable zone of its star system.\n\n## Planet Characteristics\n- **Size**: 1.2 times Earth\'s radius\n- **Orbital period**: 385 days\n- **Surface temperature**: Estimated 15\xb0C average\n- **Atmosphere**: Preliminary data suggests presence of water vapor\n\nThe discovery opens new possibilities for studying potentially habitable worlds beyond our solar system."""\n            }\n        ]\n    }\n    \n    # Collect articles based on category\n    if category == "all":\n        # Combine all categories\n        all_articles = []\n        for cat_articles in sample_articles.values():\n            all_articles.extend(cat_articles)\n        articles = all_articles\n    else:\n        # Get specific category or empty list if category doesn\'t exist\n        articles = sample_articles.get(category, [])\n    \n    # Sort by date (newest first) and limit results\n    articles.sort(key=lambda x: x["date"], reverse=True)\n    articles = articles[:limit]\n    \n    # Add some variety with random additional recent articles if needed\n    if len(articles) < limit and category == "all":\n        # Generate some generic filler articles\n        for i in range(limit - len(articles)):\n            articles.append({\n                "title": f"Breaking News: Important Update #{i+1}",\n                "date": (datetime.now() - timedelta(hours=8+i)).isoformat(),\n                "author": "News Team",\n                "excerpt": f"This is a sample news article demonstrating the newsfeed widget functionality...",\n                "body": f"""# Breaking News: Important Update #{i+1}\n\nThis is a sample article created to demonstrate the newsfeed widget\'s ability to display multiple articles.\n\n## Summary\nThe newsfeed widget can display articles with:\n- Rich markdown formatting\n- Timestamps and author information\n- Excerpts for quick preview\n- Full article body with detailed content\n\nStay tuned for more updates!"""\n            })\n    \n    return articles\n'})}),"\n",(0,i.jsx)(t.h2,{id:"live-api-example-with-coindesk",children:"Live API Example with CoinDesk"}),"\n",(0,i.jsx)(t.p,{children:"Here's an example that fetches real news from CoinDesk's API:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'from typing import Optional, List, TypedDict\nfrom datetime import datetime\nimport requests\n\nclass TransformedArticle(TypedDict):\n    title: str\n    date: str\n    author: str\n    excerpt: str\n    body: str\n\n@register_widget({\n    "name": "CoinDesk News",\n    "description": "Get the latest crypto news from CoinDesk",\n    "type": "newsfeed",\n    "endpoint": "coindesk_news",\n    "gridData": {\n        "w": 40,\n        "h": 20\n    },\n    "source": "coindesk",\n    "params": [\n        {\n            "paramName": "limit",\n            "label": "Number of Articles",\n            "description": "The number of news articles to fetch",\n            "type": "number",\n            "value": "10"\n        },\n        {\n            "paramName": "lang",\n            "label": "Language",\n            "description": "The language of the news articles",\n            "type": "text",\n            "value": "EN",\n            "options": [\n                {"label": "English", "value": "EN"},\n                {"label": "Spanish", "value": "ES"}\n            ]\n        },\n        {\n            "paramName": "categories",\n            "label": "Categories",\n            "description": "Filter by news categories",\n            "type": "text",\n            "value": ""\n        }\n    ]\n})\n@app.get("/coindesk_news")\ndef get_coindesk_news(limit: str = "10", lang: str = "EN", categories: Optional[str] = None):\n    """Get news from CoinDesk API"""\n    try:\n        url = f"https://data-api.coindesk.com/news/v1/article/list?lang={lang}&limit={limit}"\n        \n        if categories:\n            url += f"&categories={categories}"\n        \n        response = requests.get(url)\n        \n        if response.status_code != 200:\n            raise HTTPException(\n                status_code=response.status_code,\n                detail=f"Failed to fetch news: {response.reason}"\n            )\n        \n        data = response.json()\n        articles = []\n        \n        for article in data.get("Data", []):\n            # Convert UNIX timestamp to ISO format\n            date = datetime.fromtimestamp(article["PUBLISHED_ON"]).isoformat()\n            \n            # Create excerpt from body (first 150 characters)\n            body = article["BODY"]\n            excerpt = f"{body[:150]}..." if len(body) > 150 else body\n            \n            articles.append({\n                "title": article["TITLE"],\n                "date": date,\n                "author": article["AUTHORS"],\n                "excerpt": excerpt,\n                "body": body\n            })\n        \n        return articles\n        \n    except Exception as e:\n        return JSONResponse(\n            content={"error": f"Failed to fetch news: {str(e)}"},\n            status_code=500\n        )\n'})})]})}function m(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453(e,t,n){n.d(t,{R:()=>r,x:()=>o});var a=n(96540);const i={},s=a.createContext(i);function r(e){const t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:t},e.children)}},94331(e,t,n){n.d(t,{A:()=>s});n(96540);var a=n(5260),i=n(74848);function s({title:e}){return(0,i.jsx)(a.A,{children:(0,i.jsx)("title",{children:e})})}}}]);