"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[94363],{28453(e,t,n){n.d(t,{R:()=>r,x:()=>d});var i=n(96540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}},50064(e,t,n){n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"workspace/developers/widget-types/youtube","title":"YouTube","description":"Learn how to create YouTube video widgets in OpenBB Workspace, including basic video embedding and transcript support for AI assistants.","source":"@site/content/workspace/developers/widget-types/youtube.md","sourceDirName":"workspace/developers/widget-types","slug":"/workspace/developers/widget-types/youtube","permalink":"/workspace/developers/widget-types/youtube","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/developers/widget-types/youtube.md","tags":[],"version":"current","lastUpdatedBy":"Danglewood","lastUpdatedAt":1771262401000,"sidebarPosition":12,"frontMatter":{"title":"YouTube","sidebar_position":12,"description":"Learn how to create YouTube video widgets in OpenBB Workspace, including basic video embedding and transcript support for AI assistants.","keywords":["youtube widget","video widget","youtube embed","video player","transcript","AI context","OpenBB Workspace","widget development"]},"sidebar":"tutorialSidebar","previous":{"title":"Omni","permalink":"/workspace/developers/widget-types/omni"},"next":{"title":"TradingView Charts","permalink":"/workspace/developers/widget-types/tradingview-charts"}}');var o=n(74848),s=n(28453),r=n(94331);const d={title:"YouTube",sidebar_position:12,description:"Learn how to create YouTube video widgets in OpenBB Workspace, including basic video embedding and transcript support for AI assistants.",keywords:["youtube widget","video widget","youtube embed","video player","transcript","AI context","OpenBB Workspace","widget development"]},a=void 0,p={},c=[{value:"Basic YouTube Widget",id:"basic-youtube-widget",level:2},{value:"YouTube Widget with Transcript Support",id:"youtube-widget-with-transcript-support",level:2},{value:"How AI Context Works",id:"how-ai-context-works",level:3},{value:"Key Configuration Options",id:"key-configuration-options",level:2},{value:"Response Format",id:"response-format",level:2}];function l(e){const t={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.A,{title:"YouTube | OpenBB Workspace Docs"}),"\n",(0,o.jsx)(t.p,{children:"A widget that embeds and displays YouTube videos. The YouTube widget supports two modes: basic video playback and video with transcript support for AI context."}),"\n",(0,o.jsx)(t.h2,{id:"basic-youtube-widget",children:"Basic YouTube Widget"}),"\n",(0,o.jsx)(t.p,{children:"A simple widget that displays a YouTube video player. The endpoint returns the YouTube video URL as plain text."}),"\n",(0,o.jsx)("img",{className:"pro-border-gradient",width:"800",alt:"Basic YouTube Widget",src:"https://openbb-cms.directus.app/assets/f30f91a8-340e-46f5-a690-18e01a9d7447.png"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'from fastapi import Query\nfrom fastapi.responses import PlainTextResponse\nfrom typing import List\nfrom pydantic import BaseModel\n\nclass FileOption(BaseModel):\n    label: str\n    value: str\n\n# Sample YouTube videos data\nSAMPLE_VIDEOS = [\n    {\n        "name": "OpenBB Workspace Demo",\n        "url": "https://www.youtube.com/watch?v=uYyhswnZkSw",\n    },\n    {\n        "name": "Open Data Platform Demo",\n        "url": "https://www.youtube.com/watch?v=MSlhOFxEdxg",\n    }\n]\n\n# Options endpoint for video selection dropdown\n@app.get("/get_video_options")\nasync def get_video_options() -> List[FileOption]:\n    """Get list of available videos"""\n    return [\n        FileOption(label=video["name"], value=video["name"])\n        for video in SAMPLE_VIDEOS\n    ]\n\n# YouTube widget - video player only\n@register_widget({\n    "name": "Video Library",\n    "description": "View YouTube videos",\n    "type": "youtube",\n    "endpoint": "/get_video",\n    "gridData": {"w": 20, "h": 12},\n    "params": [\n        {\n            "paramName": "video_name",\n            "description": "Video to display",\n            "type": "endpoint",\n            "label": "Video",\n            "optionsEndpoint": "/get_video_options",\n            "value": "OpenBB Workspace Demo",\n        }\n    ]\n})\n@app.get("/get_video")\nasync def get_video(\n    video_name: str = Query("", description="Selected video"),\n):\n    """Get YouTube video URL"""\n    video = next((v for v in SAMPLE_VIDEOS if v["name"] == video_name), None)\n\n    if not video:\n        return PlainTextResponse(content="")\n\n    return PlainTextResponse(content=video["url"])\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The widget configuration specifies ",(0,o.jsx)(t.code,{children:'"type": "youtube"'})," which tells OpenBB Workspace to render the returned URL in an embedded YouTube player."]}),"\n",(0,o.jsx)(t.h2,{id:"youtube-widget-with-transcript-support",children:"YouTube Widget with Transcript Support"}),"\n",(0,o.jsxs)(t.p,{children:["This variant adds transcript support for AI assistants. When the ",(0,o.jsx)(t.code,{children:"raw"})," configuration is set to ",(0,o.jsx)(t.code,{children:"True"}),", the frontend will request the endpoint with ",(0,o.jsx)(t.code,{children:"?raw=true"})," to get the transcript content instead of the video URL."]}),"\n",(0,o.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,o.jsx)("img",{className:"pro-border-gradient",width:"49%",alt:"YouTube Widget with Transcript Support",src:"https://openbb-cms.directus.app/assets/da80b714-c121-49de-ac73-c4b9b587ed83.png"}),(0,o.jsx)("img",{className:"pro-border-gradient",width:"49%",alt:"YouTube Widget AI Context",src:"https://openbb-cms.directus.app/assets/ef5c1a64-c009-4b19-b2e3-d0742ded8de4.png"})]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'from fastapi import Query\nfrom fastapi.responses import PlainTextResponse\nfrom typing import List\nfrom pydantic import BaseModel\n\nclass FileOption(BaseModel):\n    label: str\n    value: str\n\n# Sample YouTube videos data with transcripts\nSAMPLE_VIDEOS = [\n    {\n        "name": "OpenBB Workspace Demo",\n        "url": "https://www.youtube.com/watch?v=uYyhswnZkSw",\n        "transcript": "# OpenBB Workspace Demo\\n\\nThis video demonstrates the OpenBB Workspace features..."\n    },\n    {\n        "name": "Open Data Platform Demo",\n        "url": "https://www.youtube.com/watch?v=MSlhOFxEdxg",\n        "transcript": "# Open Data Platform Demo\\n\\nIn this video we explore the Open Data Platform..."\n    }\n]\n\n# Options endpoint for video selection dropdown\n@app.get("/get_video_options")\nasync def get_video_options() -> List[FileOption]:\n    """Get list of available videos"""\n    return [\n        FileOption(label=video["name"], value=video["name"])\n        for video in SAMPLE_VIDEOS\n    ]\n\n# YouTube widget with transcript support for AI\n@register_widget({\n    "name": "Video Library with Transcript",\n    "description": "View YouTube videos with transcript support for AI",\n    "type": "youtube",\n    "endpoint": "/get_video_with_transcript",\n    "raw": True,\n    "gridData": {"w": 20, "h": 12},\n    "params": [\n        {\n            "paramName": "video_name",\n            "description": "Video to display",\n            "type": "endpoint",\n            "label": "Video",\n            "optionsEndpoint": "/get_video_options",\n            "value": "OpenBB Workspace Demo",\n        }\n    ]\n})\n@app.get("/get_video_with_transcript")\nasync def get_video_with_transcript(\n    video_name: str = Query("", description="Selected video"),\n    raw: bool = Query(False, description="Return transcript instead of URL"),\n):\n    """Get YouTube video URL or transcript"""\n    video = next((v for v in SAMPLE_VIDEOS if v["name"] == video_name), None)\n\n    if not video:\n        return PlainTextResponse(content="*No video selected*" if raw else "")\n\n    if raw:\n        return PlainTextResponse(content=video["transcript"], media_type="text/markdown")\n\n    return PlainTextResponse(content=video["url"])\n'})}),"\n",(0,o.jsx)(t.h3,{id:"how-ai-context-works",children:"How AI Context Works"}),"\n",(0,o.jsxs)(t.p,{children:["When ",(0,o.jsx)(t.code,{children:'"raw": True'})," is set in the widget configuration:"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Normal viewing"}),": The frontend requests the endpoint without the ",(0,o.jsx)(t.code,{children:"raw"})," parameter (or ",(0,o.jsx)(t.code,{children:"raw=false"}),"), and the endpoint returns the YouTube URL for the video player."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"AI context"}),": When an AI assistant needs to understand the widget content, the frontend requests the endpoint with ",(0,o.jsx)(t.code,{children:"?raw=true"}),", and the endpoint returns the transcript in markdown format."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"This allows AI assistants to read and understand the video content without having to watch the video, enabling them to answer questions about the video or provide summaries."}),"\n",(0,o.jsx)(t.h2,{id:"key-configuration-options",children:"Key Configuration Options"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Property"}),(0,o.jsx)(t.th,{children:"Type"}),(0,o.jsx)(t.th,{children:"Description"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"type"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string"})}),(0,o.jsxs)(t.td,{children:["Must be ",(0,o.jsx)(t.code,{children:'"youtube"'})," for YouTube widgets"]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"raw"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"boolean"})}),(0,o.jsxs)(t.td,{children:["Set to ",(0,o.jsx)(t.code,{children:"True"})," to enable transcript requests for AI context"]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"endpoint"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string"})}),(0,o.jsxs)(t.td,{children:["The endpoint that returns the video URL (or transcript when ",(0,o.jsx)(t.code,{children:"raw=true"}),")"]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"gridData"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"object"})}),(0,o.jsxs)(t.td,{children:["Widget dimensions (",(0,o.jsx)(t.code,{children:"w"})," for width, ",(0,o.jsx)(t.code,{children:"h"})," for height)"]})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"response-format",children:"Response Format"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Video URL"}),": Return as ",(0,o.jsx)(t.code,{children:"PlainTextResponse"})," with the full YouTube URL (e.g., ",(0,o.jsx)(t.code,{children:"https://www.youtube.com/watch?v=VIDEO_ID"}),")"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Transcript"}),": Return as ",(0,o.jsx)(t.code,{children:"PlainTextResponse"})," with ",(0,o.jsx)(t.code,{children:'media_type="text/markdown"'})," for formatted content"]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},94331(e,t,n){n.d(t,{A:()=>s});n(96540);var i=n(5260),o=n(74848);function s({title:e}){return(0,o.jsx)(i.A,{children:(0,o.jsx)("title",{children:e})})}}}]);