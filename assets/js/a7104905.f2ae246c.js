"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2072],{9103:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"workspace/analysts/ai-features/copilot-context","title":"Context Management","description":"Understanding how OpenBB Copilot manages and prioritizes context","source":"@site/content/workspace/analysts/ai-features/copilot-context.md","sourceDirName":"workspace/analysts/ai-features","slug":"/workspace/analysts/ai-features/copilot-context","permalink":"/workspace/analysts/ai-features/copilot-context","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/workspace/analysts/ai-features/copilot-context.md","tags":[],"version":"current","lastUpdatedBy":"Andrew","lastUpdatedAt":1763064318000,"sidebarPosition":8,"frontMatter":{"title":"Context Management","sidebar_position":8,"description":"Understanding how OpenBB Copilot manages and prioritizes context","keywords":["context management","explicit context","dashboard context","global retrieval","conversation history"]},"sidebar":"tutorialSidebar","previous":{"title":"Copilot Basics","permalink":"/workspace/analysts/ai-features/copilot-basics"},"next":{"title":"Data Handling","permalink":"/workspace/analysts/ai-features/copilot-data-handling"}}');var i=s(74848),a=s(28453),o=s(39068);const r={title:"Context Management",sidebar_position:8,description:"Understanding how OpenBB Copilot manages and prioritizes context",keywords:["context management","explicit context","dashboard context","global retrieval","conversation history"]},l=void 0,c={},d=[{value:"Priority",id:"priority",level:2},{value:"Context Types",id:"context-types",level:2},{value:"Explicit Context",id:"explicit-context",level:3},{value:"MCP Tools",id:"mcp-tools",level:3},{value:"Attached Files",id:"attached-files",level:3},{value:"Dashboard Context",id:"dashboard-context",level:3},{value:"Conversation History",id:"conversation-history",level:3},{value:"Global Retrieval (ON/OFF flag)",id:"global-retrieval-onoff-flag",level:3},{value:"Web Search (ON/OFF flag)",id:"web-search-onoff-flag",level:3}];function h(e){const t={a:"a",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{title:"Context Management | OpenBB Workspace Docs"}),"\n",(0,i.jsx)(t.p,{children:"The Copilot employs a sophisticated context understanding system that prioritizes and processes multiple information sources simultaneously."}),"\n",(0,i.jsx)(t.p,{children:"This hierarchical approach ensures that the most relevant and specific data takes precedence when generating responses, while still maintaining awareness of broader workspace context and conversation history."}),"\n",(0,i.jsx)(t.h2,{id:"priority",children:"Priority"}),"\n",(0,i.jsx)(t.p,{children:"The agent prioritizes context in the following order:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Priority"}),(0,i.jsx)(t.th,{children:"Context Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"1"}),(0,i.jsx)(t.td,{children:"Explicit"}),(0,i.jsx)(t.td,{children:"Widgets added to context specifically."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"2"}),(0,i.jsx)(t.td,{children:"MCP tool"}),(0,i.jsx)(t.td,{children:"Active MCP tools connected to the Copilot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"3"}),(0,i.jsx)(t.td,{children:"Attached files"}),(0,i.jsx)(t.td,{children:"Files uploaded directly to the Copilot"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"4"}),(0,i.jsx)(t.td,{children:"Dashboard"}),(0,i.jsx)(t.td,{children:"All widgets currently on your dashboard (in all tabs)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"5"}),(0,i.jsx)(t.td,{children:"Conversation"}),(0,i.jsx)(t.td,{children:"The history of your current conversation."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"6"}),(0,i.jsx)(t.td,{children:"Global"}),(0,i.jsx)(t.td,{children:"All widgets available within the OpenBB Workspace. If Global Data enabled."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"7"}),(0,i.jsx)(t.td,{children:"Web search"}),(0,i.jsx)(t.td,{children:"Retrieve infromation from the web. If Web Search enabled."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"context-types",children:"Context Types"}),"\n",(0,i.jsx)(t.h3,{id:"explicit-context",children:"Explicit Context"}),"\n",(0,i.jsx)(t.p,{children:"Explicit context represents the highest priority information source, allowing you to precisely direct the Copilot's attention to specific datasets or widgets. This mechanism is particularly powerful for ensuring accuracy when working with multiple similar datasets or when you need analysis focused on a specific dataset."}),"\n",(0,i.jsx)(t.p,{children:'When you click on the "Add to context" button on any widget you\'re creating a direct reference that the Copilot will prioritize above all other available information. After sending the prompt, that widget will remain in context.'}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Explicit context",src:"https://openbb-cms.directus.app/assets/24947294-2053-4efc-a68b-7ec90bf9875c.png",width:"100%"})}),"\n",(0,i.jsx)(t.p,{children:'When you use the "@" symbol followed by a widget name and the prompt is sent, the widget will disappear from context. This is meant to be a quick tag reference.'}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Explicit context with @",src:"https://openbb-cms.directus.app/assets/3ed47f6f-52f2-4515-b401-16bc8d6a971a.png",width:"60%"})}),"\n",(0,i.jsx)(t.h3,{id:"mcp-tools",children:"MCP Tools"}),"\n",(0,i.jsxs)(t.p,{children:["The second highest priority is active MCP tools connected to OpenBB Workspace. For more details, see the MCP tools documentation ",(0,i.jsx)(t.a,{href:"/workspace/analysts/ai-features/mcp-tools",children:"here"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Depending on your use case, MCP tools offer a powerful way to connect to third-party data providers or specialized financial tools using a standardized protocol. This would eliminate the need for custom development inside OpenBB Workspace."}),"\n",(0,i.jsxs)(t.p,{children:["To use MCP tools, make sure to configure it (see how to do it ",(0,i.jsx)(t.a,{href:"/workspace/analysts/ai-features/mcp-tools#configure-your-mcp-servers",children:"here"}),", and then select all the desired MCP tools."]}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Attached files",src:"https://openbb-cms.directus.app/assets/31809471-52b2-4dcb-a5f0-9276def2ae29.png",width:"60%"})}),"\n",(0,i.jsx)(t.p,{children:"When enabled, Copilot gains access to all active MCP tools. You can also explicitly call a specific MCP tool to guarantee it\u2019s invoked."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Attached files",src:"https://openbb-cms.directus.app/assets/0a77e58a-6c9f-4cc8-8983-ec8668ecc1c6.png",width:"60%"})}),"\n",(0,i.jsx)(t.h3,{id:"attached-files",children:"Attached Files"}),"\n",(0,i.jsx)(t.p,{children:"The attachment system enables the Copilot to process documents and datasets that aren't part of your current workspace widgets. Supported file types include PDF, Excel, CSV, and various other document formats."}),"\n",(0,i.jsx)(t.p,{children:"The Copilot automatically extracts and indexes content from attached files, making them searchable and referenceable throughout your conversation. This capability is essential for performing ad-hoc analysis or incorporating external datasets and documents into your workflow."}),"\n",(0,i.jsx)(t.p,{children:"Please note that for PDF files, text must be selectable as Optical Character Recognition (OCR) is not supported. However, you can integrate your own agent that performs OCR."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Attached files",src:"https://openbb-cms.directus.app/assets/f3a3ab07-4ecf-4b76-af74-cd2bb1f4b3b2.png",width:"60%"})}),"\n",(0,i.jsx)(t.h3,{id:"dashboard-context",children:"Dashboard Context"}),"\n",(0,i.jsx)(t.p,{children:"The dashboard context provides the Copilot with comprehensive awareness of your currently active dashboard. All widgets on your active dashboard become automatically available as data sources, allowing the Copilot to understand the broader context of your work session. It also has access to the widgets metadata and the current parameters selected."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Dashboard context",src:"https://openbb-cms.directus.app/assets/2fc343e5-6eb2-4ef6-ba10-f687868bdff4.png",width:"100%"})}),"\n",(0,i.jsx)(t.h3,{id:"conversation-history",children:"Conversation History"}),"\n",(0,i.jsx)(t.p,{children:"Conversational context enables natural, iterative analysis by maintaining awareness of your entire dialogue history within the current session."}),"\n",(0,i.jsx)(t.p,{children:"The Copilot tracks your explicit questions and its responses. This memory allows for follow-up queries, refinement of analysis parameters, and building upon previous insights without needing to re-establish context."}),"\n",(0,i.jsx)(t.p,{children:'The system understands references to "the previous chart", "that analysis", or "the data we discussed" and can seamlessly continue complex analytical workflows across multiple conversation turns.'}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Conversation history",src:"https://openbb-cms.directus.app/assets/49ed1729-674a-4d45-bf73-ba9bd3918bed.png",width:"70%"})}),"\n",(0,i.jsx)(t.h3,{id:"global-retrieval-onoff-flag",children:"Global Retrieval (ON/OFF flag)"}),"\n",(0,i.jsx)(t.p,{children:"The global retrieval system provides the Copilot with access to the entire OpenBB Workspace widget library, extending far beyond your current dashboard widgets."}),"\n",(0,i.jsx)(t.p,{children:"When your current dashboard doesn't contain the specific data or analysis tool needed to answer a query, the Copilot can automatically identify and utilize the appropriate widgets from the entire widget library, effectively expanding your analytical capabilities on-demand without manual widget selection."}),"\n",(0,i.jsx)(t.p,{children:"This is only possible due to the metadata associated with each widget and is why it's important to invest time in specifying the metadata carefully."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Global retrieval",src:"https://openbb-cms.directus.app/assets/f5661493-50ec-45c0-931a-8abd70d3bc9a.png",width:"60%"})}),"\n",(0,i.jsx)(t.h3,{id:"web-search-onoff-flag",children:"Web Search (ON/OFF flag)"}),"\n",(0,i.jsx)(t.p,{children:"The web search capability enables the Copilot to access real-time information from across the internet when:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"The available workspace data is insufficient to fully answer your query."}),"\n",(0,i.jsx)(t.li,{children:"The user asks to look for the information on the web."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This feature automatically activates as a fallback mechanism, ensuring comprehensive responses even when dealing with breaking news, recent market developments, or information not available in your current workspace widgets."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("img",{className:"pro-border-gradient",alt:"Web search",src:"https://openbb-cms.directus.app/assets/3dffe668-2114-4c4c-b822-395da193f2a0.png",width:"100%"})})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>r});var n=s(96540);const i={},a=n.createContext(i);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(a.Provider,{value:t},e.children)}},39068:(e,t,s)=>{s.d(t,{A:()=>a});s(96540);var n=s(27143),i=s(74848);function a(e){let{title:t}=e;return(0,i.jsx)(n.A,{children:(0,i.jsx)("title",{children:t})})}}}]);