"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[58564],{7668:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"platform/developer_guide/using_python_package_in_fastapi","title":"Using OpenBB With FastAPI and Depends","description":"This page demonstrates how to efficiently import the OpenBB Python package into a FastAPI application, for use in any endpoint.","source":"@site/content/platform/developer_guide/using_python_package_in_fastapi.mdx","sourceDirName":"platform/developer_guide","slug":"/platform/developer_guide/using_python_package_in_fastapi","permalink":"/platform/developer_guide/using_python_package_in_fastapi","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenBB-finance/openbb-docs/edit/main/content/platform/developer_guide/using_python_package_in_fastapi.mdx","tags":[],"version":"current","lastUpdatedBy":"Andrew","lastUpdatedAt":1747487561000,"sidebarPosition":4,"frontMatter":{"title":"Using OpenBB With FastAPI and Depends","sidebar_position":4,"description":"This page demonstrates how to efficiently import the OpenBB Python package into a FastAPI application, for use in any endpoint.","keywords":["OBB","Python","Development","OpenBB Platform","FastAPI","Depends","Router","Custom","Application","API"]},"sidebar":"tutorialSidebar","previous":{"title":"Disabling Output Validation","permalink":"/platform/developer_guide/disabling_output_validation"},"next":{"title":"Dependency Management","permalink":"/platform/developer_guide/dependency_management"}}');var i=t(74848),a=t(28453),p=t(39068);const s={title:"Using OpenBB With FastAPI and Depends",sidebar_position:4,description:"This page demonstrates how to efficiently import the OpenBB Python package into a FastAPI application, for use in any endpoint.",keywords:["OBB","Python","Development","OpenBB Platform","FastAPI","Depends","Router","Custom","Application","API"]},r=void 0,d={},l=[{value:"Example",id:"example",level:2}];function c(e){const n={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.A,{title:"Using OpenBB With FastAPI and Depends - Developer Guides | OpenBB Platform Docs"}),"\n",(0,i.jsx)(n.p,{children:"This page demonstrates how to efficiently import the OpenBB Python package into a FastAPI application,\nfor use in any endpoint."}),"\n",(0,i.jsxs)(n.p,{children:["The code below is a complete example for wrapping the Python interface in an API that calls ",(0,i.jsx)(n.code,{children:"obb.equity.price.quote"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Best practice would be to create, ",(0,i.jsx)(n.code,{children:"OpenBBApp"}),", as a separate file and import directly in each router file requiring it."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'"""Example of using the OpenBB Python Interface as a FastAPI Dependency."""\n\nfrom typing import Annotated\nfrom openbb_core.app.model.abstract.singleton import SingletonMeta\nfrom fastapi import (\n    Depends,\n    FastAPI,\n)\n\napp = FastAPI()\n\n\nclass OpenBB(metaclass=SingletonMeta):\n    def __init__(self):\n        import openbb\n\n        self._obb = openbb.sdk\n\n    @property\n    def obb(self):\n        return self._obb\n\n\ndef get_openbb():\n    return OpenBB().obb\n\n\nOpenBBApp = Annotated[OpenBB, Depends(get_openbb)]\n\n\n@app.get("/quote")\nasync def quote(obb: OpenBBApp, symbol: str = "AAPL", provider: str = "yfinance"):\n    return obb.equity.price.quote(symbol, provider=provider).model_dump()["results"]\n\n\nif __name__ == "__main__":\n    import uvicorn\n\n    uvicorn.run(app)\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Launch the server by copying the code block above into a new file, then run it as a script from the command line."})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>p,x:()=>s});var o=t(96540);const i={},a=o.createContext(i);function p(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:p(e.components),o.createElement(a.Provider,{value:n},e.children)}},39068:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var o=t(27143),i=t(74848);function a(e){let{title:n}=e;return(0,i.jsx)(o.A,{children:(0,i.jsx)("title",{children:n})})}}}]);